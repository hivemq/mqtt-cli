openapi: 3.0.1
info:
  contact:
    url: https://www.hivemq.com
  description: |2

    # Introduction

    HiveMQ's REST API provides endpoints for the following use cases:
    - Listing all MQTT Clients
    - Getting detailed information about a specific MQTT client
    - Listing all subscriptions for a specific MQTT client
    - Getting the connection status for a specific MQTT client
    - Creating and restoring a backup
    - Starting and stopping a trace recording
    - Downloading backups and trace recordings

    ## API style
    HiveMQ's API is organized in a [RESTful](http://en.wikipedia.org/wiki/Representational_State_Transfer) fashion.

    The API has predictable resource-oriented URLs that consume and return JSON with the content-type `application/json`.
    It uses standard HTTP response codes and verbs. Some endpoints do return files, those are using the content type `application/octet-stream` or `application/zip`.

    The base URL is the Host and configured port of your HiveMQ instances. In most cases it makes sense to configure a reverse-proxy or load balancer to access HiveMQ's REST API.

    ## Pagination
    Some endpoints support returning the results in a paginated fashion. In those cases a cursor can be returned that contains the relative URL for the next page.
    The desired page size can be specified by using the `limit` query parameter.

    Example URL: `http://my-broker-host:8888/api/v1/mqtt/clients?limit=100`

    Example Response:
    ```
    {
      "items": [
        {
          "id": "client-id-1"
        },

        ...

        {
          "id": "client-id-99"
        }
      ],
      "_links": {
        "next": "/api/v1/mqtt/clients?cursor=a-MvelExpd5y0SrXBxDhBvnGmohbpzwGDQFdUyOYWBACqs1TgI4-cUo-A=&limit=100"
      }
    }
    ```
    To fetch the next page with more results, the URL `http://my-broker-host:8888/api/v1/mqtt/clients?cursor=a-MvelExpd5y0SrXBxDhBvnGmohbpzwGDQFdUyOYWBACqs1TgI4-cUo-A=&limit=100` is called.
    If the value for `_links.next` is not present, then this is the last page and no further pages are available.

    **Note**: If a generated REST API client is used the cursor value must be extracted from the `next URL` and then
    passed as the cursor in the API call for fetching the next page.

    Steps to use pagination in a REST API client:
    1. Returned next URL:
    ```
    http://my-broker-host:8888/api/v1/mqtt/clients?cursor=a-MvelExpd5y0SrXBxDhBvnGmohbpzwGDQFdUyOYWBACqs1TgI4-cUo-A=&limit=100
    ```

    2. Extract the cursor from the next URL:
    ```
    a-MvelExpd5y0SrXBxDhBvnGmohbpzwGDQFdUyOYWBACqs1TgI4-cUo-A=
    ```

    3. Use the cursor in the REST API client to fetch the next page:
    ```
    restClient.mqttClientsGet(pageLimitForRequest, "a-MvelExpd5y0SrXBxDhBvnGmohbpzwGDQFdUyOYWBACqs1TgI4-cUo-A=");
    ```

    ## Errors
    Conventional HTTP response codes are used to indicate the success or failure of an API request. Codes in the 2xx range generally indicate success. Codes in the 4xx range indicate an error that failed given the information provided (e.g., a required parameter was omitted). Codes in the 5xx range indicate an error on the server side.

    For all errors a JSON response with additional details is returned in the format [Problem JSON](https://tools.ietf.org/html/rfc7807).

    ## OpenAPI
    HiveMQ's REST API provides an OpenAPI 3.0 schema definition that can imported into popular API tooling (e.g. Postman) or can be used to generate client-code for multiple programming languages.
  title: HiveMQ REST API
  version: 4.23.0
  x-logo:
    url: https://www.hivemq.com/img/svg/hivemq-bee.svg
tags:
- description: |-
    These endpoints can be used to manage the Data Hub.

    Currently, this includes the option to start a 5-hour long trial mode that temporarily removes all limitations.For more information on all capabilities the HiveMQ Data Hub offers, see the [HiveMQ documentation](https://docs.hivemq.com/hivemq/latest/data-hub/index.html).
  name: Data Hub - Management
- description: |-
    Policies describe how you want the HiveMQ broker to validate the behavior of MQTT clients.
    Each policy has four sections:

    - Matching: Specifies which clients the policy engine validates.
    - Deserialization: Specifies deserializers for different message payloads.
    - Behavior: Specifies the behavior that is considered valid for matched clients.
    - onTransitions: Specifies custom actions that are executed when a client transitions to a different state within the specified behavior model that is valid for that client.
    These endpoints can be used to create, update, delete, and list behavior policies.

    For more information on all capabilities the HiveMQ Data Hub offers, see the [HiveMQ documentation](https://docs.hivemq.com/hivemq/latest/data-hub/index.html).
  name: Data Hub - Behavior Policies
- description: |-
    Data Policies describe how you want the HiveMQ broker to apply schemas to incoming MQTT message payload data and act on the validation results.
    Each policy has four sections:

    - Matching: Specifies which packets the policy engine validates.
    - Validation: Specifies how the packets are validated. For example, based on a JSON Schema.
    - OnSuccess: Defines which actions are executed when the outcome of a validation is successful.
    - OnFailure: Defines which actions are executed when the validation fails.

    These endpoints can be used to create, update, delete, and list data policies.

    For more information on all capabilities the HiveMQ Data Hub offers, see the [HiveMQ documentation](https://docs.hivemq.com/hivemq/latest/data-hub/index.html).
  name: Data Hub - Data Policies
- description: |-
    A schema defines the expected structure and format of incoming MQTT message payload data.

    This endpoint can be used to create, get, and delete schemas.

    Schemas can be enforced with the use of a policy.

    Currently, the following schema definitions are supported:

    - [JSON Schema](https://json-schema.org/)
    - [Protocol Buffers (Protobuf)](https://protobuf.dev/)

    For more information on how to define and use a schema in HiveMQ, see [Schemas](https://docs.hivemq.com/hivemq/latest/data-hub/schemas.html).
  name: Data Hub - Schemas
- description: |-
    A script represents custom logic that can be executed in response to MQTT messages.

    This endpoint can be used to create, get, and delete scripts.

    For more information on how to define and use a script in HiveMQ, see [Scripts](https://docs.hivemq.com/hivemq/latest/data-hub/scripts.html).
  name: Data Hub - Scripts
- description: |+
    These endpoints can be used to retrieve states of clients for the Data Hub.

  name: Data Hub - State
- description: |-
    These endpoints can be used to create, download, inspect and restore backups created by HiveMQ.

    More information about the backup and restore capabilities of HiveMQ can be found in the [HiveMQ documentation](https://www.hivemq.com/docs/hivemq/latest/user-guide/backup-restore.html).

    ### Backup Requirements
    Some prerequisites are necessary to create a backup or restore from a backup:

    - All HiveMQ nodes have at least version 4.4.0
    - Only one backup/restore can be executed at the same time

    ### Export Requirements
    The following requirements are necessary to successfully create a backup:

    - All HiveMQ nodes have at least 1GB of free disk space
    - No cluster topology changes occur during the export. The backup is aborted when the topology changes to avoid inconsistent data in the backup.


    ### Restore Requirements

    The requirements to successfully restore data from a backup are:

    - A clean HiveMQ deployment. This means that no clients must be connected and no persistent data exists on every HiveMQ node. The import will not start if there is data available in your cluster.
    - Message data used by Extensions are only restored if the corresponding extension is already started before the restore is started.
  name: Backup & Restore
- description: |-
    This endpoint can be used to create diagnostic archives.

    More information about the diagnostic archive can be found in the [HiveMQ documentation](https://www.hivemq.com/docs/hivemq/latest/control-center/diagnostic-archive.html).

    ### Diagnostic Archive Requirements
    Some prerequisites are necessary to create a diagnostic archive:

    - Only HiveMQ nodes with at least version 4.11.0 will create an archive
    - Only one diagnostic archive can be created at the same time
  name: Diagnostic Archive
- description: |
    A Trace Recording is a combination of filters which allows you to select messages of specific clients or topics, which are logged to a file in a human readable format.
    Each trace recording creates cluster-wide trace files that can be downloaded as a collective zip file.

    You can log any MQTT message sent or received by the broker with a filter you apply. A Filter can either be a client identifier or a topic. Many filter combinations are possible. All filters are regular expressions.

    These endpoints can be used to create, download, inspect, stop and delete trace recordings.

    More information about the trace recording capabilities of HiveMQ can be found in the [HiveMQ documentation](https://www.hivemq.com/docs/hivemq/latest/control-center/analytic.html#trace-recording).
  name: Trace Recordings
- description: "These endpoints can be used to inspect the MQTT clients that are known\
    \ to HiveMQ.\n\nWith millions of connected clients, keeping track of specific\
    \ clients can become a challenge. The HiveMQ REST API provides endpoints to list\
    \ and view all the MQTT clients known to HiveMQ. \nInformation about subscriptions,\
    \ connection status, TLS, and more, offer detailed insights into every client."
  name: MQTT Clients
paths:
  /api/v1/data-hub/behavior-validation/policies:
    get:
      description: "Get all policies. \n\n This endpoint returns the content of the\
        \ policies with the content-type `application/json`. \n\n This endpoint requires\
        \ at least HiveMQ version 4.20.0 on all cluster nodes."
      operationId: getAllBehaviorPolicies
      parameters:
      - description: "Comma-separated list of fields to include in the response. Allowed\
          \ values are: id, createdAt, lastUpdatedAt, deserialization, matching, behavior,\
          \ onTransitions"
        example: "id,createdAt"
        in: query
        name: fields
        schema:
          type: string
      - description: Comma-separated list of policy ids used for filtering. Multiple
          filters can be applied together.
        example: "policy1,policy2"
        in: query
        name: policyIds
        schema:
          type: string
      - description: Comma-separated list of MQTT client identifiers that are used
          for filtering. Client identifiers are matched by the retrieved policies.
          Multiple filters can be applied together.
        example: "client1,client2"
        in: query
        name: clientIds
        schema:
          type: string
      - description: Specifies the page size for the returned results. Has to be between
          10 and 500. Default page size is 50. Limit is ignored if the 'topic' query
          parameter is set.
        example: 100
        in: query
        name: limit
        schema:
          type: integer
          format: int32
      - description: The cursor that has been returned by the previous result page.
          Do not pass this parameter if you want to fetch the first page.
        in: query
        name: cursor
        schema:
          type: string
      responses:
        "200":
          content:
            application/json:
              examples:
                list-response-a:
                  description: Example response with multiple policies. No more pages
                    left
                  summary: "Multiple results, last page"
                  value:
                    items:
                    - id: P18
                      createdAt: 2023-07-28T07:27:24.531Z
                      lastUpdatedAt: 2023-07-28T07:27:24.531Z
                      matching:
                        clientIdRegex: .*
                      behavior:
                        id: Mqtt.events
                        arguments: {}
                      onTransitions:
                      - fromState: Any.*
                        toState: Any.*
                        Event.OnAny:
                          pipeline:
                          - id: log1
                            functionId: System.log
                            arguments:
                              level: INFO
                              message: transition happened
                    - id: P19
                      createdAt: 2023-07-28T07:27:24.532Z
                      lastUpdatedAt: 2023-07-28T07:27:24.532Z
                      matching:
                        clientIdRegex: .*
                      behavior:
                        id: Mqtt.events
                        arguments: {}
                      onTransitions:
                      - fromState: Any.*
                        toState: Any.*
                        Event.OnAny:
                          pipeline:
                          - id: log1
                            functionId: System.log
                            arguments:
                              level: INFO
                              message: transition happened
                list-response-b:
                  description: Example response with multiple policies. More pages
                    left
                  summary: "Multiple results, more pages left"
                  value:
                    items:
                    - id: P0
                      createdAt: 2023-07-28T07:44:35.382Z
                      lastUpdatedAt: 2023-07-28T07:44:35.382Z
                      matching:
                        clientIdRegex: .*
                      behavior:
                        id: Mqtt.events
                        arguments: {}
                      onTransitions:
                      - fromState: Any.*
                        toState: Any.*
                        Event.OnAny:
                          pipeline:
                          - id: log1
                            functionId: System.log
                            arguments:
                              level: INFO
                              message: transition happened
                    - id: P1
                      createdAt: 2023-07-28T07:44:35.405Z
                      lastUpdatedAt: 2023-07-28T07:44:35.405Z
                      matching:
                        clientIdRegex: .*
                      behavior:
                        id: Mqtt.events
                        arguments: {}
                      onTransitions:
                      - fromState: Any.*
                        toState: Any.*
                        Event.OnAny:
                          pipeline:
                          - id: log1
                            functionId: System.log
                            arguments:
                              level: INFO
                              message: transition happened
                    _links:
                      next: /api/v1/data-hub/behavior-validation/policies?cursor=a-Wva-QBoB5yAX_HJ0WRQ8ng==&limit=2
                list-response-c:
                  description: Example response with requested fields and multiple
                    policies. More pages left
                  summary: "Multiple results, requested 'id' field"
                  value:
                    items:
                    - id: P0
                    - id: P1
                    _links:
                      next: /api/v1/data-hub/behavior-validation/policies?cursor=a-Wva-QBoB5yAX_HZxWBM9mQ==&limit=2&fields=id
                list-response-d:
                  description: Example response with a single policy
                  summary: Single Result
                  value:
                    items:
                    - id: policy1
                      createdAt: 2023-07-28T07:34:14.150Z
                      lastUpdatedAt: 2023-07-28T07:34:14.150Z
                      matching:
                        clientIdRegex: .*
                      behavior:
                        id: Mqtt.events
                        arguments: {}
                      onTransitions:
                      - fromState: Any.*
                        toState: Any.*
                        Event.OnAny:
                          pipeline:
                          - id: log1
                            functionId: System.log
                            arguments:
                              level: INFO
                              message: transition happened
              schema:
                $ref: '#/components/schemas/BehaviorPolicyList'
          description: Success
        "503":
          content:
            application/json:
              examples:
                version-check-failed:
                  description: Version check failed
                  summary: Version check failed
                  value:
                    errors:
                    - title: Endpoint not active yet
                      detail: "Not all cluster nodes support this endpoint yet, please\
                        \ try again later"
              schema:
                $ref: '#/components/schemas/Errors'
          description: Not all cluster nodes at minimum version
      summary: Get all policies
      tags:
      - Data Hub - Behavior Policies
    post:
      description: |-
        Create a behavior policy

        This endpoint requires at least HiveMQ version 4.20.0 on all cluster nodes.
      operationId: createBehaviorPolicy
      requestBody:
        content:
          application/json:
            example:
              id: wildcardLogBehaviorPolicy
              createdAt: 2023-08-23T10:14:38.447Z
              matching:
                clientIdRegex: .*
              deserialization:
                publish:
                  schema:
                    schemaId: schema
                    version: latest
                will:
                  schema:
                    schemaId: schema
                    version: latest
              behavior:
                id: Mqtt.events
                arguments: {}
              onTransitions:
              - fromState: Any.*
                toState: Any.*
                Event.OnAny:
                  pipeline:
                  - id: log1
                    functionId: System.log
                    arguments:
                      level: INFO
                      message: transition happened
            schema:
              $ref: '#/components/schemas/BehaviorPolicy'
        description: The policy that should be created.
        required: true
      responses:
        "201":
          content:
            application/json:
              examples:
                response-example:
                  description: Example response.
                  summary: Policy was created successfully
                  value:
                    id: wildcardLogBehaviorPolicy
                    createdAt: 2023-08-23T10:14:38.447Z
                    lastUpdatedAt: 2023-08-23T10:14:38.447Z
                    matching:
                      clientIdRegex: .*
                    deserialization:
                      publish:
                        schema:
                          schemaId: schema
                          version: latest
                      will:
                        schema:
                          schemaId: schema
                          version: latest
                        arguments: {}
                    behavior:
                      id: Mqtt.events
                      arguments: {}
                    onTransitions:
                    - fromState: Any.*
                      toState: Any.*
                      Event.OnAny:
                        pipeline:
                        - id: log1
                          functionId: System.log
                          arguments:
                            level: INFO
                            message: transition happened
              schema:
                $ref: '#/components/schemas/BehaviorPolicy'
          description: Success
        "400":
          content:
            application/json:
              examples:
                param-missing:
                  description: Example response when a required parameter is missing.
                  summary: Required URL parameter missing
                  value:
                    errors:
                    - title: Required parameter missing
                      detail: Required URL parameter 'parameterName' is missing
                policy-id-already-in-use:
                  description: Example response when the policy uses an already existing
                    id.
                  summary: The given policy ID is already in use
                  value:
                    errors:
                    - title: Policy id already used
                      detail: The given policy id 'policy-id' is already in use.
                policy-not-parsable:
                  description: Example response when the submitted policy could not
                    be parsed as JSON.
                  summary: The submitted policy cannot be parsed.
                  value:
                    errors:
                    - title: Policy not parsable
                      detail: The submitted policy 'policy' can not be parsed.
                policy-not-valid:
                  description: "Example response when the policy is invalid, because\
                    \ a field is missing."
                  summary: The submitted policy is not valid
                  value:
                    errors:
                    - title: Policy is not valid
                      detail: Required body entity parameter is missing
              schema:
                $ref: '#/components/schemas/Errors'
          description: Bad request
        "503":
          content:
            application/json:
              examples:
                referenced-incompatible-policy-functions:
                  description: Example response when not all cluster nodes support
                    the referenced script functions yet.
                  summary: At least one referenced script function is not yet supported
                    by all cluster nodes
                  value:
                    errors:
                    - title: Incompatible policy
                      detail: "The policy with id 'policy' could not be added because\
                        \ its functions [fn:my-transform.js:1, fn:my-transform.js:2]\
                        \ require at least HiveMQ version 4.23.0, but not all cluster\
                        \ nodes have been updated to this version yet. Please try\
                        \ again later."
                temporarily-not-available:
                  description: The endpoint is temporarily not available
                  summary: Temporarily not available
                  value:
                    errors:
                    - title: The endpoint is temporarily not available
                      detail: "The endpoint is temporarily not available, please try\
                        \ again later"
                version-check-failed:
                  description: Version check failed
                  summary: Version check failed
                  value:
                    errors:
                    - title: Endpoint not active yet
                      detail: "Not all cluster nodes support this endpoint yet, please\
                        \ try again later"
              schema:
                $ref: '#/components/schemas/Errors'
          description: Temporarily not available
      summary: Create a new policy
      tags:
      - Data Hub - Behavior Policies
  /api/v1/data-hub/behavior-validation/policies/{policyId}:
    delete:
      description: "Deletes an existing policy. \n\n "
      operationId: deleteBehaviorPolicy
      parameters:
      - description: The identifier of the policy to delete.
        example: policy1
        in: path
        name: policyId
        required: true
        schema:
          type: string
      responses:
        "204":
          description: "Success, no response body"
        "400":
          content:
            application/json:
              examples:
                param-missing:
                  description: Bad request
                  summary: Required URL parameter missing
                  value:
                    errors:
                    - title: Required parameter missing
                      detail: Required URL parameter 'parameterName' is missing
              schema:
                $ref: '#/components/schemas/Errors'
          description: Bad request
        "404":
          content:
            application/json:
              examples:
                not-found:
                  description: Policy not found
                  summary: Not found
                  value:
                    errors:
                    - title: Resource not found
                      detail: Resource with id 'my-resource-id' not found
              schema:
                $ref: '#/components/schemas/Errors'
          description: Resource not found
        "503":
          content:
            application/json:
              examples:
                version-check-failed:
                  description: Version check failed
                  summary: Version check failed
                  value:
                    errors:
                    - title: Endpoint not active yet
                      detail: "Not all cluster nodes support this endpoint yet, please\
                        \ try again later"
              schema:
                $ref: '#/components/schemas/Errors'
          description: Not all cluster nodes at minimum version
      summary: Delete a behavior policy
      tags:
      - Data Hub - Behavior Policies
    get:
      description: "Get a specific policy. \n\n This endpoint returns the content\
        \ of the policy with the content-type `application/json`. \n\n This endpoint\
        \ requires at least HiveMQ version 4.20.0 on all cluster nodes."
      operationId: getBehaviorPolicy
      parameters:
      - description: The identifier of the policy.
        example: policy1
        in: path
        name: policyId
        required: true
        schema:
          type: string
      - description: "Comma-separated list of fields to include in the response. Allowed\
          \ values are: id, createdAt, lastUpdatedAt, deserialization, matching, behavior,\
          \ onTransitions"
        example: "id,createdAt"
        in: query
        name: fields
        schema:
          type: string
      responses:
        "200":
          content:
            application/json:
              examples:
                get-response:
                  description: Get Policy
                  summary: Get  Policy
                  value:
                    id: wildcardLogBehaviorPolicy
                    createdAt: 2023-08-23T10:14:38.447Z
                    lastUpdatedAt: 2023-08-23T10:14:38.447Z
                    matching:
                      clientIdRegex: .*
                    deserialization:
                      publish:
                        schema:
                          schemaId: schema
                          version: latest
                      will:
                        schema:
                          schemaId: schema
                          version: latest
                        arguments: {}
                    behavior:
                      id: Mqtt.events
                      arguments: {}
                    onTransitions:
                    - fromState: Any.*
                      toState: Any.*
                      Event.OnAny:
                        pipeline:
                        - id: log1
                          functionId: System.log
                          arguments:
                            level: INFO
                            message: transition happened
              schema:
                $ref: '#/components/schemas/BehaviorPolicy'
          description: Success
        "400":
          content:
            application/json:
              examples:
                param-missing:
                  description: Bad request
                  summary: Required URL parameter missing
                  value:
                    errors:
                    - title: Required parameter missing
                      detail: Required URL parameter 'parameterName' is missing
              schema:
                $ref: '#/components/schemas/Errors'
          description: Bad request
        "404":
          content:
            application/json:
              examples:
                not-found:
                  description: Resource not found
                  summary: Not found
                  value:
                    errors:
                    - title: Resource not found
                      detail: Resource with id 'my-resource-id' not found
              schema:
                $ref: '#/components/schemas/Errors'
          description: Resource not found
      summary: Get a  policy
      tags:
      - Data Hub - Behavior Policies
    put:
      description: |-
        Update a behavior policy

        The path parameter 'policyId' must match the 'id' of the policy in the request body.
         This endpoint requires at least HiveMQ version 4.20.0 on all cluster nodes.
      operationId: updateBehaviorPolicy
      parameters:
      - description: The identifier of the policy.
        example: policy1
        in: path
        name: policyId
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            example:
              id: wildcardLogBehaviorPolicy
              createdAt: 2023-08-23T10:14:38.447Z
              matching:
                clientIdRegex: .*
              deserialization:
                publish:
                  schema:
                    schemaId: schema
                    version: latest
                will:
                  schema:
                    schemaId: schema
                    version: latest
              behavior:
                id: Mqtt.events
                arguments: {}
              onTransitions:
              - fromState: Any.*
                toState: Any.*
                Event.OnAny:
                  pipeline:
                  - id: log1
                    functionId: System.log
                    arguments:
                      level: INFO
                      message: transition happened
            schema:
              $ref: '#/components/schemas/BehaviorPolicy'
        description: The policy that should be updated.
        required: true
      responses:
        "200":
          content:
            application/json:
              examples:
                response-example:
                  description: Example response.
                  summary: Policy was updated successfully
                  value:
                    id: wildcardLogBehaviorPolicy
                    createdAt: 2023-08-23T10:14:38.447Z
                    lastUpdatedAt: 2023-09-26T11:17:22.311Z
                    matching:
                      clientIdRegex: .*
                    deserialization:
                      publish:
                        schema:
                          schemaId: schema
                          version: latest
                      will:
                        schema:
                          schemaId: schema
                          version: latest
                        arguments: {}
                    behavior:
                      id: Mqtt.events
                      arguments: {}
                    onTransitions:
                    - fromState: Any.*
                      toState: Any.*
                      Event.OnAny:
                        pipeline:
                        - id: log1
                          functionId: System.log
                          arguments:
                            level: INFO
                            message: transition happened
              schema:
                $ref: '#/components/schemas/BehaviorPolicy'
          description: Success
        "400":
          content:
            application/json:
              examples:
                param-missing:
                  description: Example response when a required parameter is missing.
                  summary: Required URL parameter missing
                  value:
                    errors:
                    - title: Required parameter missing
                      detail: Required URL parameter 'parameterName' is missing
                policy-not-parsable:
                  description: The submitted policy cannot be parsed.
                  summary: The submitted policy can not be parsed
                  value:
                    errors:
                    - title: Policy not parsable
                      detail: The submitted policy 'policy' can not be parsed.
                policy-not-valid:
                  description: "Example response when the policy is invalid, because\
                    \ a field is missing."
                  summary: The submitted policy is not valid
                  value:
                    errors:
                    - title: Policy is not valid
                      detail: Required body entity parameter is missing
              schema:
                $ref: '#/components/schemas/Errors'
          description: Bad request
        "404":
          content:
            application/json:
              examples:
                not-found:
                  description: Policy not found
                  summary: Not found
                  value:
                    errors:
                    - title: Referenced policy not found
                      detail: The referenced policy with id 'policyId' was not found.
              schema:
                $ref: '#/components/schemas/Errors'
          description: Policy not found
        "412":
          content:
            application/json:
              examples:
                etag-not-matching:
                  description: Precondition failed
                  summary: Etag not matching
                  value:
                    errors:
                    - title: Precondition Failed
                      detail: Policy does not match the given etag '123456789'.
              schema:
                $ref: '#/components/schemas/Errors'
          description: Precondition failed
        "503":
          content:
            application/json:
              examples:
                referenced-incompatible-policy-functions:
                  description: Example response when not all cluster nodes support
                    the referenced script functions yet.
                  summary: At least one referenced script function is not yet supported
                    by all cluster nodes
                  value:
                    errors:
                    - title: Incompatible policy
                      detail: "The policy with id 'policy' could not be added because\
                        \ its functions [fn:my-transform.js:1, fn:my-transform.js:2]\
                        \ require at least HiveMQ version 4.23.0, but not all cluster\
                        \ nodes have been updated to this version yet. Please try\
                        \ again later."
                version-check-failed:
                  description: Version check failed
                  summary: Version check failed
                  value:
                    errors:
                    - title: Endpoint not active yet
                      detail: "Not all cluster nodes support this endpoint yet, please\
                        \ try again later"
              schema:
                $ref: '#/components/schemas/Errors'
          description: Not all cluster nodes at minimum version
      summary: Update an existing policy
      tags:
      - Data Hub - Behavior Policies
  /api/v1/data-hub/behavior-validation/states/{clientId}:
    get:
      description: |-
        Use this endpoint to get the stored state of a client for DataHub.

        This endpoint requires at least HiveMQ version 4.20.0 on the REST API node.
      operationId: getClientState
      parameters:
      - description: The client identifier.
        example: client1
        in: path
        name: clientId
        required: true
        schema:
          type: string
      responses:
        "200":
          content:
            application/json:
              examples:
                get-response:
                  description: Get client State
                  summary: Get the state of a client
                  value:
                    items:
                    - policyId: reallyCoolBehaviorPolicy
                      behaviorId: Publish.quota
                      stateType: INTERMEDIATE
                      stateName: Connected
                      firstSetAt: 2023-09-05T09:46:47.854Z
                      arguments:
                        minPublishes: 5
                        maxPublishes: 10
                      variables:
                        minPublishes: "5"
                        publishCount: "0"
                        maxPublishes: "10"
              schema:
                $ref: '#/components/schemas/FsmStatesInformationListItem'
          description: Success
        "400":
          content:
            application/json:
              examples:
                param-missing:
                  description: Bad request
                  summary: Required URL parameter missing
                  value:
                    errors:
                    - title: Required parameter missing
                      detail: Required URL parameter 'parameterName' is missing
              schema:
                $ref: '#/components/schemas/Errors'
          description: Bad request
        "404":
          content:
            application/json:
              examples:
                client-disconnected:
                  description: Example response when client is disconnected
                  summary: "Target client is not connected at the moment, but a session\
                    \ is present."
                  value: |-
                    {
                      "errors": [
                        {
                          "title": "Client disconnected
                          "detail": "The client 'client' is disconnected."
                        }
                      ]
                    }
                client-not-found:
                  description: Example response when client identifier is unknown
                    to the broker
                  summary: "Target client is not known to the broker, because there\
                    \ is no session present."
                  value: |-
                    {
                      "errors": [
                        {
                          "title": "Client not found
                          "detail": "The client '<clientId>' was not found."
                        }
                      ]
                    }
                not-found:
                  description: Resource not found
                  summary: Not found
                  value:
                    errors:
                    - title: Resource not found
                      detail: Resource with id 'my-resource-id' not found
              schema:
                $ref: '#/components/schemas/Errors'
          description: Resource not found
        "503":
          content:
            application/json:
              examples:
                temporarily-not-available:
                  description: The endpoint is temporarily not available
                  summary: Temporarily not available
                  value:
                    errors:
                    - title: The endpoint is temporarily not available
                      detail: "The endpoint is temporarily not available, please try\
                        \ again later"
              schema:
                $ref: '#/components/schemas/Errors'
          description: Temporarily not available
      summary: Get the state of a client
      tags:
      - Data Hub - State
  /api/v1/data-hub/data-validation/policies:
    get:
      description: "Get all data policies. \n\n This endpoint returns the content\
        \ of the policies with the content-type `application/json`. \n\n This endpoint\
        \ requires at least HiveMQ version 4.15.0 on all cluster nodes."
      operationId: getAllDataPolicies
      parameters:
      - description: "Comma-separated list of fields to include in the response. Allowed\
          \ values are: id, createdAt, lastUpdatedAt, matching, validation, onSuccess,\
          \ onFailure"
        example: "id,createdAt"
        in: query
        name: fields
        schema:
          type: string
      - description: Comma-separated list of policy IDs used for filtering. Multiple
          filters can be applied together.
        example: "policy1,policy2"
        in: query
        name: policyIds
        schema:
          type: string
      - description: Comma-separated list of schema IDs used for filtering. Multiple
          filters can be applied together.
        example: "schema1,schema2"
        in: query
        name: schemaIds
        schema:
          type: string
      - description: MQTT topic string that the retrieved policies must match. Returned
          policies are sorted in the same way as they are applied to matching publishes.
          'topic' filtering does not support pagination
        example: topic/my-topic
        in: query
        name: topic
        schema:
          type: string
      - description: Specifies the page size for the returned results. The value must
          be between 10 and 500. The default page size is 50. The limit is ignored
          if the 'topic' query parameter is set.
        example: 100
        in: query
        name: limit
        schema:
          type: integer
          format: int32
      - description: The cursor that has been returned by the previous result page.
          Do not pass this parameter if you want to fetch the first page.
        in: query
        name: cursor
        schema:
          type: string
      responses:
        "200":
          content:
            application/json:
              examples:
                list-response-a:
                  description: Example response with multiple policies. No more pages
                    left
                  summary: "Multiple results, last page"
                  value:
                    items:
                    - id: policy1
                      createdAt: 2023-04-26T13:32:47.032Z
                      lastUpdatedAt: 2023-04-26T13:32:47.032Z
                      matching:
                        topicFilter: topic1
                      validation:
                        validators:
                        - type: schema
                          arguments:
                            strategy: ALL_OF
                            schemas:
                            - schemaId: schema
                              version: "1"
                      onSuccess:
                        pipeline:
                        - id: logSuccessOperation
                          functionId: System.log
                          arguments:
                            level: DEBUG
                            message: "${clientId} sent a publish on topic '${topic}'\
                              \ with result '${validationResult}'"
                      onFailure:
                        pipeline:
                        - id: logFailureOperation
                          functionId: System.log
                          arguments:
                            level: WARN
                            message: "${clientId} sent an invalid publish on topic\
                              \ '${topic}' with result '${validationResult}'"
                    - id: policy2
                      createdAt: 2023-04-26T13:32:47.049Z
                      lastUpdatedAt: 2023-04-26T13:32:47.049Z
                      matching:
                        topicFilter: topic2
                      validation:
                        validators:
                        - type: schema
                          arguments:
                            strategy: ALL_OF
                            schemas:
                            - schemaId: schema
                              version: "1"
                      onSuccess:
                        pipeline:
                        - id: logSuccessOperation
                          functionId: System.log
                          arguments:
                            level: DEBUG
                            message: "${clientId} sent a publish on topic '${topic}'\
                              \ with result '${validationResult}'"
                      onFailure:
                        pipeline:
                        - id: logSuccessOperation
                          functionId: System.log
                          arguments:
                            level: WARN
                            message: "${clientId} sent an invalid publish on topic\
                              \ '${topic}' with result '${validationResult}'"
                list-response-b:
                  description: Example response with multiple policies. More pages
                    left
                  summary: "Multiple results, more pages left"
                  value:
                    items:
                    - id: policy1
                      createdAt: 2023-04-26T13:32:47.032Z
                      lastUpdatedAt: 2023-04-26T13:32:47.032Z
                      matching:
                        topicFilter: topic1
                      validation:
                        validators:
                        - type: schema
                          arguments:
                            strategy: ALL_OF
                            schemas:
                            - schemaId: schema
                              version: "1"
                      onSuccess:
                        pipeline:
                        - id: logSuccessOperation
                          functionId: System.log
                          arguments:
                            level: DEBUG
                            message: $clientId sent a publish on topic '$topic' with
                              result '$validationResult'
                      onFailure:
                        pipeline:
                        - id: logFailureOperation
                          functionId: System.log
                          arguments:
                            level: WARN
                            message: $clientId sent an invalid publish on topic '$topic'
                              with result '$validationResult'
                    - id: policy2
                      createdAt: 2023-04-26T13:32:47.049Z
                      lastUpdatedAt: 2023-04-26T13:32:47.049Z
                      matching:
                        topicFilter: topic2
                      validation:
                        validators:
                        - type: schema
                          arguments:
                            strategy: ALL_OF
                            schemas:
                            - schemaId: schema
                              version: "1"
                      onSuccess:
                        pipeline:
                        - id: logSuccessOperation
                          functionId: System.log
                          arguments:
                            level: DEBUG
                            message: $clientId sent a publish on topic '$topic' with
                              result '$validationResult'
                      onFailure:
                        pipeline:
                        - id: logSuccessOperation
                          functionId: System.log
                          arguments:
                            level: WARN
                            message: $clientId sent an invalid publish on topic '$topic'
                              with result '$validationResult'
                    - id: policy3
                      createdAt: 2023-04-26T13:32:47.049Z
                      lastUpdatedAt: 2023-04-26T13:32:47.049Z
                      matching:
                        topicFilter: topic3
                      validation:
                        validators:
                        - type: schema
                          arguments:
                            strategy: ALL_OF
                            schemas:
                            - schemaId: schema
                              version: "1"
                      onSuccess:
                        pipeline:
                        - id: logSuccessOperation
                          functionId: System.log
                          arguments:
                            level: DEBUG
                            message: $clientId sent a publish on topic '$topic' with
                              result '$validationResult'
                      onFailure:
                        pipeline:
                        - id: logSuccessOperation
                          functionId: System.log
                          arguments:
                            level: WARN
                            message: $clientId sent an invalid publish on topic '$topic'
                              with result '$validationResult'
                    _links:
                      next: /api/v1/data-validation/policies?cursor=a-eqj-GE9B5DkV-nhwVBk-nTL807ty&limit=3
                list-response-c:
                  description: Example response with requested fields and multiple
                    policies. More pages left
                  summary: "Multiple results, requested 'id' field"
                  value:
                    items:
                    - id: policy1
                    - id: policy2
                    - id: policy3
                    _links:
                      next: /api/v1/data-validation/policies?cursor=a-eqj-GE9B5DkV-nhwVBk-nTL807ty&limit=3&fields=id
                list-response-d:
                  description: Example response with a single policy
                  summary: Single Result
                  value:
                    items:
                    - id: policy1
                      createdAt: 2023-04-26T13:32:47.032Z
                      lastUpdatedAt: 2023-04-26T13:32:47.032Z
                      matching:
                        topicFilter: topic1
                      validation:
                        validators:
                        - type: schema
                          arguments:
                            strategy: ALL_OF
                            schemas:
                            - schemaId: schema
                              version: "1"
                      onSuccess:
                        pipeline:
                        - id: logSuccessOperation
                          functionId: System.log
                          arguments:
                            level: DEBUG
                            message: $clientId sent a publish on topic '$topic' with
                              result '$validationResult'
                      onFailure:
                        pipeline:
                        - id: logFailureOperation
                          functionId: System.log
                          arguments:
                            level: WARN
                            message: $clientId sent an invalid publish on topic '$topic'
                              with result '$validationResult'
              schema:
                $ref: '#/components/schemas/DataPolicyList'
          description: Success
        "503":
          content:
            application/json:
              examples:
                version-check-failed:
                  description: Version check failed
                  summary: Version check failed
                  value:
                    errors:
                    - title: Endpoint not active yet
                      detail: "Not all cluster nodes support this endpoint yet, please\
                        \ try again later"
              schema:
                $ref: '#/components/schemas/Errors'
          description: Not all cluster nodes at minimum version
      summary: Get all data policies
      tags:
      - Data Hub - Data Policies
    post:
      description: |-
        Create a data policy

        This endpoint requires at least HiveMQ version 4.15.0 on all cluster nodes.
      operationId: createDataPolicy
      requestBody:
        content:
          application/json:
            example:
              id: policy1
              matching:
                topicFilter: topic/+
              validation:
                validators:
                - type: schema
                  arguments:
                    strategy: ALL_OF
                    schemas:
                    - schemaId: schema
                      version: "1"
              onSuccess:
                pipeline:
                - id: logOperationSuccess
                  functionId: System.log
                  arguments:
                    level: DEBUG
                    message: "${clientId} sent a publish on topic '${topic}' with\
                      \ result '${validationResult}'"
              onFailure:
                pipeline:
                - id: logOperationFailure
                  functionId: System.log
                  arguments:
                    level: WARN
                    message: "${clientId} sent an invalid publish on topic '${topic}'\
                      \ with result '${validationResult}'"
            schema:
              $ref: '#/components/schemas/DataPolicy'
        description: The data policy to create.
        required: true
      responses:
        "201":
          content:
            application/json:
              examples:
                response-example:
                  description: Example response.
                  summary: Policy was created successfully
                  value:
                    id: policy1
                    createdAt: 2023-04-19T13:35:00.930Z
                    lastUpdatedAt: 2023-04-19T13:35:00.930Z
                    matching:
                      topicFilter: topic/+
                    validation:
                      validators:
                      - type: schema
                        arguments:
                          strategy: ALL_OF
                          schemas:
                          - schemaId: schema1
                            version: "1"
                    onSuccess:
                      pipeline:
                      - id: logOperationSuccess
                        functionId: System.log
                        arguments:
                          level: DEBUG
                          message: "${clientId} sent a publish on topic '${topic}'\
                            \ with result '${validationResult}'"
                    onFailure:
                      pipeline:
                      - id: logOperationFailure
                        functionId: System.log
                        arguments:
                          level: WARN
                          message: "${clientId} sent an invalid publish on topic '${topic}'\
                            \ with result '${validationResult}'"
              schema:
                $ref: '#/components/schemas/DataPolicy'
          description: Success
        "400":
          content:
            application/json:
              examples:
                param-missing:
                  description: Example response when a required parameter is missing.
                  summary: Required URL parameter missing
                  value:
                    errors:
                    - title: Required parameter missing
                      detail: Required URL parameter 'parameterName' is missing
                policy-id-already-in-use:
                  description: Example response when the policy uses an already existing
                    id.
                  summary: The given policy identifier is already in use
                  value:
                    errors:
                    - title: Policy id already used
                      detail: The given policy id 'policy-id' is already in use.
                policy-not-parsable:
                  description: Example response when the submitted policy could not
                    be parsed as JSON.
                  summary: The submitted policy can not be parsed
                  value:
                    errors:
                    - title: Policy not parsable
                      detail: The submitted policy 'policy' can not be parsed.
                policy-not-valid:
                  description: "Example response when the policy is invalid, because\
                    \ a field is missing."
                  summary: The submitted policy is not valid
                  value:
                    errors:
                    - title: Policy is not valid
                      detail: Required body entity parameter is missing
                referenced-schema-does-not-exist:
                  description: Example response when a referenced schema was not found.
                  summary: A schema that is referenced in the policy does not exist
                  value:
                    errors:
                    - title: Referenced schema does not exist
                      detail: The referenced schema with id 'schema-id' does not exist.
              schema:
                $ref: '#/components/schemas/Errors'
          description: Bad request
        "503":
          content:
            application/json:
              examples:
                referenced-incompatible-policy-functions:
                  description: Example response when not all cluster nodes support
                    the referenced script functions yet.
                  summary: At least one referenced script function is not yet supported
                    by all cluster nodes
                  value:
                    errors:
                    - title: Incompatible policy
                      detail: "The policy with id 'policy' could not be added because\
                        \ its functions [fn:my-transform.js:1, fn:my-transform.js:2]\
                        \ require at least HiveMQ version 4.23.0, but not all cluster\
                        \ nodes have been updated to this version yet. Please try\
                        \ again later."
                temporarily-not-available:
                  description: The endpoint is temporarily not available
                  summary: Temporarily not available
                  value:
                    errors:
                    - title: The endpoint is temporarily not available
                      detail: "The endpoint is temporarily not available, please try\
                        \ again later"
                version-check-failed:
                  description: Version check failed
                  summary: Version check failed
                  value:
                    errors:
                    - title: Endpoint not active yet
                      detail: "Not all cluster nodes support this endpoint yet, please\
                        \ try again later"
              schema:
                $ref: '#/components/schemas/Errors'
          description: Not all cluster nodes at minimum version
      summary: Create a new data policy
      tags:
      - Data Hub - Data Policies
  /api/v1/data-hub/data-validation/policies/{policyId}:
    delete:
      description: "Deletes an existing data policy. \n\n "
      operationId: deleteDataPolicy
      parameters:
      - description: The identifier of the data policy to delete.
        example: policy1
        in: path
        name: policyId
        required: true
        schema:
          type: string
      responses:
        "204":
          description: "Success, no response body"
        "400":
          content:
            application/json:
              examples:
                param-missing:
                  description: Bad request
                  summary: Required URL parameter missing
                  value:
                    errors:
                    - title: Required parameter missing
                      detail: Required URL parameter 'parameterName' is missing
              schema:
                $ref: '#/components/schemas/Errors'
          description: Bad request
        "404":
          content:
            application/json:
              examples:
                not-found:
                  description: Resource not found
                  summary: Not found
                  value:
                    errors:
                    - title: Resource not found
                      detail: Resource with id 'my-resource-id' not found
              schema:
                $ref: '#/components/schemas/Errors'
          description: Resource not found
        "503":
          content:
            application/json:
              examples:
                version-check-failed:
                  description: Version check failed
                  summary: Version check failed
                  value:
                    errors:
                    - title: Endpoint not active yet
                      detail: "Not all cluster nodes support this endpoint yet, please\
                        \ try again later"
              schema:
                $ref: '#/components/schemas/Errors'
          description: Not all cluster nodes at minimum version
      summary: Delete a data policy
      tags:
      - Data Hub - Data Policies
    get:
      description: "Get a specific data policy. \n\n This endpoint returns the content\
        \ of the policy with the content-type `application/json`. \n\n This endpoint\
        \ requires at least HiveMQ version 4.15.0 on all cluster nodes."
      operationId: getDataPolicy
      parameters:
      - description: The identifier of the policy.
        example: policy1
        in: path
        name: policyId
        required: true
        schema:
          type: string
      - description: "Comma-separated list of fields to include in the response. Allowed\
          \ values are: id, createdAt, lastUpdatedAt, matching, validation, onSuccess,\
          \ onFailure"
        example: "id,createdAt"
        in: query
        name: fields
        schema:
          type: string
      responses:
        "200":
          content:
            application/json:
              examples:
                get-response:
                  description: Get Policy
                  summary: Get Policy
                  value:
                    id: policy1
                    createdAt: 2023-04-19T13:35:00.930Z
                    lastUpdatedAt: 2023-04-19T13:35:00.930Z
                    matching:
                      topicFilter: topic/+
                    validation:
                      validators:
                      - type: schema
                        arguments:
                          strategy: ALL_OF
                          schemas:
                          - schemaId: schema1
                            version: "1"
                    onSuccess:
                      pipeline:
                      - id: logOperationSuccess
                        functionId: System.log
                        arguments:
                          level: DEBUG
                          message: "${clientId} sent a publish on topic '${topic}'\
                            \ with result '${validationResult}'"
                    onFailure:
                      pipeline:
                      - id: logOperationFailure
                        functionId: System.log
                        arguments:
                          level: WARN
                          message: "${clientId} sent an invalid publish on topic '${topic}'\
                            \ with result '${validationResult}'"
              schema:
                $ref: '#/components/schemas/DataPolicy'
          description: Success
        "400":
          content:
            application/json:
              examples:
                param-missing:
                  description: Example response when a required parameter is missing.
                  summary: Required URL parameter missing
                  value:
                    errors:
                    - title: Required parameter missing
                      detail: Required URL parameter 'parameterName' is missing
              schema:
                $ref: '#/components/schemas/Errors'
          description: Bad request
        "404":
          content:
            application/json:
              examples:
                not-found:
                  description: Policy not found
                  summary: Not found
                  value:
                    errors:
                    - title: Resource not found
                      detail: Resource with id 'my-resource-id' not found
              schema:
                $ref: '#/components/schemas/Errors'
          description: Resource not found
      summary: Get a data policy
      tags:
      - Data Hub - Data Policies
    put:
      description: |-
        Update a data policy

        The path parameter 'policyId' must match the 'id' of the policy in the request body.
         The matching part of policies cannot be changed with an update.
         This endpoint requires at least HiveMQ version 4.17.0 on all cluster nodes.
      operationId: updateDataPolicy
      parameters:
      - description: The identifier of the policy.
        example: policy1
        in: path
        name: policyId
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            example:
              id: policy1
              matching:
                topicFilter: topic/+
              validation:
                validators:
                - type: schema
                  arguments:
                    strategy: ALL_OF
                    schemas:
                    - schemaId: schema
                      version: "1"
              onSuccess:
                pipeline:
                - id: logOperationSuccess
                  functionId: System.log
                  arguments:
                    level: DEBUG
                    message: "${clientId} sent a publish on topic '${topic}' with\
                      \ result '${validationResult}'"
              onFailure:
                pipeline:
                - id: logOperationFailure
                  functionId: System.log
                  arguments:
                    level: WARN
                    message: "${clientId} sent an invalid publish on topic '${topic}'\
                      \ with result '${validationResult}'"
            schema:
              $ref: '#/components/schemas/DataPolicy'
        description: The data policy that should be updated.
        required: true
      responses:
        "200":
          content:
            application/json:
              examples:
                response-example:
                  description: Example response.
                  summary: Policy was updated successfully
                  value:
                    id: policy1
                    createdAt: 2023-04-19T13:35:00.930Z
                    lastUpdatedAt: 2023-09-26T11:17:22.311Z
                    matching:
                      topicFilter: topic/+
                    validation:
                      validators:
                      - type: schema
                        arguments:
                          strategy: ALL_OF
                          schemas:
                          - schemaId: schema1
                            version: "1"
                    onSuccess:
                      pipeline:
                      - id: logOperationSuccess
                        functionId: System.log
                        arguments:
                          level: DEBUG
                          message: "${clientId} sent a publish on topic '${topic}'\
                            \ with result '${validationResult}'"
                    onFailure:
                      pipeline:
                      - id: logOperationFailure
                        functionId: System.log
                        arguments:
                          level: WARN
                          message: "${clientId} sent an invalid publish on topic '${topic}'\
                            \ with result '${validationResult}'"
              schema:
                $ref: '#/components/schemas/DataPolicy'
          description: Success
        "400":
          content:
            application/json:
              examples:
                param-missing:
                  description: Example response when a required parameter is missing.
                  summary: Required URL parameter missing
                  value:
                    errors:
                    - title: Required parameter missing
                      detail: Required URL parameter 'parameterName' is missing
                policy-not-parsable:
                  description: Example response when the submitted policy could not
                    be parsed as JSON.
                  summary: The submitted policy can not be parsed
                  value:
                    errors:
                    - title: Policy not parsable
                      detail: The submitted policy 'policy' can not be parsed.
                policy-not-valid:
                  description: "Example response when the policy is invalid, because\
                    \ a field is missing."
                  summary: The submitted policy is not valid
                  value:
                    errors:
                    - title: Policy is not valid
                      detail: Required body entity parameter is missing
                policy-topic-filter-not-matching:
                  description: Example response when the given topic filter does not
                    match the present one.
                  summary: The policy topic filter does not match
                  value:
                    errors:
                    - title: Topic filter does not match
                      detail: The policy with id 'policyId' has a topic filter 'my/topic/filter'
                        that does not match the topic filter of the current policy.
                referenced-schema-does-not-exist:
                  description: Example response when a referenced schema was not found.
                  summary: A schema that is referenced in the policy does not exist
                  value:
                    errors:
                    - title: Referenced schema does not exist
                      detail: The referenced schema with id 'schema-id' does not exist.
              schema:
                $ref: '#/components/schemas/Errors'
          description: Bad request
        "404":
          content:
            application/json:
              examples:
                not-found:
                  description: Policy not found
                  summary: Not found
                  value:
                    errors:
                    - title: Referenced policy not found
                      detail: The referenced policy with id 'policyId' was not found.
              schema:
                $ref: '#/components/schemas/Errors'
          description: Policy not found
        "412":
          content:
            application/json:
              examples:
                etag-not-matching:
                  description: Precondition failed
                  summary: Etag not matching
                  value:
                    errors:
                    - title: Precondition Failed
                      detail: Policy does not match the given etag '123456789'.
              schema:
                $ref: '#/components/schemas/Errors'
          description: Precondition failed
        "503":
          content:
            application/json:
              examples:
                referenced-incompatible-policy-functions:
                  description: Example response when not all cluster nodes support
                    the referenced script functions yet.
                  summary: At least one referenced script function is not yet supported
                    by all cluster nodes
                  value:
                    errors:
                    - title: Incompatible policy
                      detail: "The policy with id 'policy' could not be added because\
                        \ its functions [fn:my-transform.js:1, fn:my-transform.js:2]\
                        \ require at least HiveMQ version 4.23.0, but not all cluster\
                        \ nodes have been updated to this version yet. Please try\
                        \ again later."
                version-check-failed:
                  description: Version check failed
                  summary: Version check failed
                  value:
                    errors:
                    - title: Endpoint not active yet
                      detail: "Not all cluster nodes support this endpoint yet, please\
                        \ try again later"
              schema:
                $ref: '#/components/schemas/Errors'
          description: Not all cluster nodes at minimum version
      summary: Update an existing data policy
      tags:
      - Data Hub - Data Policies
  /api/v1/data-hub/management/start-trial:
    post:
      description: |-
        Use this endpoint to start the Data Hub trial mode.

        This endpoint requires at least HiveMQ version 4.17.0 on the REST API node.
      operationId: startTrialMode
      responses:
        "204":
          description: "Success, no response body"
        "400":
          content:
            application/json:
              examples:
                trial-already-expired:
                  description: Bad request
                  summary: Data Hub trial mode is already expired
                  value:
                    errors:
                    - title: Trial mode already expired
                      detail: The trial mode period for data hub has already expired.
                        Restart HiveMQ to get another 5 hours trial mode.
                trial-already-running:
                  description: Bad request
                  summary: Data Hub trial mode is already running
                  value:
                    errors:
                    - title: Trial mode already running
                      detail: "The trial mode for data hub cannot be started, as it\
                        \ is already running."
              schema:
                $ref: '#/components/schemas/Errors'
          description: Bad request
        "503":
          content:
            application/json:
              examples:
                temporarily-not-available:
                  description: The endpoint is temporarily not available
                  summary: Temporarily not available
                  value:
                    errors:
                    - title: The endpoint is temporarily not available
                      detail: "The endpoint is temporarily not available, please try\
                        \ again later"
              schema:
                $ref: '#/components/schemas/Errors'
          description: Temporarily not available
      summary: Start trial mode
      tags:
      - Data Hub - Management
  /api/v1/data-hub/schemas:
    get:
      description: "Get all schemas. \n\n This endpoint returns the content of the\
        \ schemas with the content-type `application/json`. \n\n This endpoint requires\
        \ at least HiveMQ version 4.16.0 on all cluster nodes."
      operationId: getAllSchemas
      parameters:
      - description: "Comma-separated list of fields to include in the response. Allowed\
          \ values are: id, type, schemaDefinition, createdAt"
        example: "id,createdAt"
        in: query
        name: fields
        schema:
          type: string
      - description: Comma-separated list of schema types used for filtering. Multiple
          filters can be applied together.
        example: "JSON,PROTOBUF"
        in: query
        name: types
        schema:
          type: string
      - description: Comma-separated list of schema ids used for filtering. Multiple
          filters can be applied together.
        example: "schema1,schema2"
        in: query
        name: schemaIds
        schema:
          type: string
      - description: Specifies the page size for the returned results. Has to be between
          10 and 500. Default page size is 50.
        example: 100
        in: query
        name: limit
        schema:
          type: integer
          format: int32
      - description: The cursor that has been returned by the previous result page.
          Do not pass this parameter if you want to fetch the first page.
        in: query
        name: cursor
        schema:
          type: string
      responses:
        "200":
          content:
            application/json:
              examples:
                list-response-a:
                  description: Example response with multiple schemas. No more pages
                    left
                  summary: "Multiple results, last page"
                  value:
                    items:
                    - id: schema1
                      version: 1
                      type: JSON
                      schemaDefinition: ewogICIkaWQiOiAiaHR0cHM6Ly9leGFtcGxlLmNvbS9hZGRyZXNzLmpzb24iLAogICIkc2NoZW1hIjogImh0dHA6Ly9qc29uLXNjaGVtYS5vcmcvZHJhZnQtMDcvc2NoZW1hIiwKICAidHlwZSI6ICJvYmplY3QiLAogICJwcm9wZXJ0aWVzIjogewogICAgInN0cmVldF9hZGRyZXNzIjogeyAidHlwZSI6ICJzdHJpbmciIH0sCiAgICAiY2l0eSI6IHsgInR5cGUiOiAic3RyaW5nIiB9LAogICAgInN0YXRlIjogeyAidHlwZSI6ICJzdHJpbmciIH0KICB9LAogICJyZXF1aXJlZCI6IFsic3RyZWV0X2FkZHJlc3MiLCAiY2l0eSIsICJzdGF0ZSJdCn0=
                      createdAt: 2023-03-01T13:28:35.164Z
                    - id: schema2
                      version: 1
                      type: JSON
                      schemaDefinition: ewogICIkaWQiOiAiaHR0cHM6Ly9leGFtcGxlLmNvbS9hZGRyZXNzLmpzb24iLAogICIkc2NoZW1hIjogImh0dHA6Ly9qc29uLXNjaGVtYS5vcmcvZHJhZnQtMDcvc2NoZW1hIiwKICAidHlwZSI6ICJvYmplY3QiLAogICJwcm9wZXJ0aWVzIjogewogICAgInN0cmVldF9hZGRyZXNzIjogeyAidHlwZSI6ICJzdHJpbmciIH0sCiAgICAiY2l0eSI6IHsgInR5cGUiOiAic3RyaW5nIiB9LAogICAgInN0YXRlIjogeyAidHlwZSI6ICJzdHJpbmciIH0KICB9LAogICJyZXF1aXJlZCI6IFsic3RyZWV0X2FkZHJlc3MiLCAiY2l0eSIsICJzdGF0ZSJdCn0=
                      createdAt: 2023-03-01T13:38:35.164Z
                    - id: schema3
                      version: 1
                      type: JSON
                      schemaDefinition: ewogICIkaWQiOiAiaHR0cHM6Ly9leGFtcGxlLmNvbS9hZGRyZXNzLmpzb24iLAogICIkc2NoZW1hIjogImh0dHA6Ly9qc29uLXNjaGVtYS5vcmcvZHJhZnQtMDcvc2NoZW1hIiwKICAidHlwZSI6ICJvYmplY3QiLAogICJwcm9wZXJ0aWVzIjogewogICAgInN0cmVldF9hZGRyZXNzIjogeyAidHlwZSI6ICJzdHJpbmciIH0sCiAgICAiY2l0eSI6IHsgInR5cGUiOiAic3RyaW5nIiB9LAogICAgInN0YXRlIjogeyAidHlwZSI6ICJzdHJpbmciIH0KICB9LAogICJyZXF1aXJlZCI6IFsic3RyZWV0X2FkZHJlc3MiLCAiY2l0eSIsICJzdGF0ZSJdCn0=
                      createdAt: 2023-03-01T13:48:35.164Z
                list-response-b:
                  description: Example response with multiple schemas. More pages
                    left
                  summary: "Multiple results, more pages left"
                  value:
                    items:
                    - id: schema1
                      version: 1
                      type: JSON
                      schemaDefinition: ewogICIkaWQiOiAiaHR0cHM6Ly9leGFtcGxlLmNvbS9hZGRyZXNzLmpzb24iLAogICIkc2NoZW1hIjogImh0dHA6Ly9qc29uLXNjaGVtYS5vcmcvZHJhZnQtMDcvc2NoZW1hIiwKICAidHlwZSI6ICJvYmplY3QiLAogICJwcm9wZXJ0aWVzIjogewogICAgInN0cmVldF9hZGRyZXNzIjogeyAidHlwZSI6ICJzdHJpbmciIH0sCiAgICAiY2l0eSI6IHsgInR5cGUiOiAic3RyaW5nIiB9LAogICAgInN0YXRlIjogeyAidHlwZSI6ICJzdHJpbmciIH0KICB9LAogICJyZXF1aXJlZCI6IFsic3RyZWV0X2FkZHJlc3MiLCAiY2l0eSIsICJzdGF0ZSJdCn0=
                      createdAt: 2023-03-01T13:28:35.164Z
                    - id: schema2
                      version: 1
                      type: JSON
                      schemaDefinition: ewogICIkaWQiOiAiaHR0cHM6Ly9leGFtcGxlLmNvbS9hZGRyZXNzLmpzb24iLAogICIkc2NoZW1hIjogImh0dHA6Ly9qc29uLXNjaGVtYS5vcmcvZHJhZnQtMDcvc2NoZW1hIiwKICAidHlwZSI6ICJvYmplY3QiLAogICJwcm9wZXJ0aWVzIjogewogICAgInN0cmVldF9hZGRyZXNzIjogeyAidHlwZSI6ICJzdHJpbmciIH0sCiAgICAiY2l0eSI6IHsgInR5cGUiOiAic3RyaW5nIiB9LAogICAgInN0YXRlIjogeyAidHlwZSI6ICJzdHJpbmciIH0KICB9LAogICJyZXF1aXJlZCI6IFsic3RyZWV0X2FkZHJlc3MiLCAiY2l0eSIsICJzdGF0ZSJdCn0=
                      createdAt: 2023-03-01T13:38:35.164Z
                    - id: schema3
                      version: 1
                      type: JSON
                      schemaDefinition: ewogICIkaWQiOiAiaHR0cHM6Ly9leGFtcGxlLmNvbS9hZGRyZXNzLmpzb24iLAogICIkc2NoZW1hIjogImh0dHA6Ly9qc29uLXNjaGVtYS5vcmcvZHJhZnQtMDcvc2NoZW1hIiwKICAidHlwZSI6ICJvYmplY3QiLAogICJwcm9wZXJ0aWVzIjogewogICAgInN0cmVldF9hZGRyZXNzIjogeyAidHlwZSI6ICJzdHJpbmciIH0sCiAgICAiY2l0eSI6IHsgInR5cGUiOiAic3RyaW5nIiB9LAogICAgInN0YXRlIjogeyAidHlwZSI6ICJzdHJpbmciIH0KICB9LAogICJyZXF1aXJlZCI6IFsic3RyZWV0X2FkZHJlc3MiLCAiY2l0eSIsICJzdGF0ZSJdCn0=
                      createdAt: 2023-03-01T13:48:35.164Z
                    _links:
                      next: /api/v1/data-hub/schemas?cursor=a-eqj-GE9B5DkV-nhwVBk-nTL807ty&limit=3
                list-response-c:
                  description: Example response with requested fields and multiple
                    schemas. More pages left
                  summary: "Multiple results, requested 'id' field"
                  value:
                    items:
                    - id: schema1
                    - id: schema2
                    - id: schema3
                    _links:
                      next: /api/v1/data-hub/schemas?cursor=a-eqj-GE9B5DkV-nhwVBk-nTL807ty&limit=3&fields=id
                list-response-d:
                  description: Example response with a single schema
                  summary: Single Result
                  value:
                    items:
                    - id: schema1
                      version: 1
                      type: JSON
                      schemaDefinition: ewogICIkaWQiOiAiaHR0cHM6Ly9leGFtcGxlLmNvbS9hZGRyZXNzLmpzb24iLAogICIkc2NoZW1hIjogImh0dHA6Ly9qc29uLXNjaGVtYS5vcmcvZHJhZnQtMDcvc2NoZW1hIiwKICAidHlwZSI6ICJvYmplY3QiLAogICJwcm9wZXJ0aWVzIjogewogICAgInN0cmVldF9hZGRyZXNzIjogeyAidHlwZSI6ICJzdHJpbmciIH0sCiAgICAiY2l0eSI6IHsgInR5cGUiOiAic3RyaW5nIiB9LAogICAgInN0YXRlIjogeyAidHlwZSI6ICJzdHJpbmciIH0KICB9LAogICJyZXF1aXJlZCI6IFsic3RyZWV0X2FkZHJlc3MiLCAiY2l0eSIsICJzdGF0ZSJdCn0=
                      createdAt: 2023-03-01T13:28:35.164Z
                list-response-e:
                  description: Example response with all versions of specific schema
                    id.
                  summary: "List versions of one schema, last page"
                  value:
                    items:
                    - id: schema1
                      version: 1
                      type: JSON
                      schemaDefinition: ewogICIkaWQiOiAiaHR0cHM6Ly9leGFtcGxlLmNvbS9hZGRyZXNzLmpzb24iLAogICIkc2NoZW1hIjogImh0dHA6Ly9qc29uLXNjaGVtYS5vcmcvZHJhZnQtMDcvc2NoZW1hIiwKICAidHlwZSI6ICJvYmplY3QiLAogICJwcm9wZXJ0aWVzIjogewogICAgInN0cmVldF9hZGRyZXNzIjogeyAidHlwZSI6ICJzdHJpbmciIH0sCiAgICAiY2l0eSI6IHsgInR5cGUiOiAic3RyaW5nIiB9LAogICAgInN0YXRlIjogeyAidHlwZSI6ICJzdHJpbmciIH0KICB9LAogICJyZXF1aXJlZCI6IFsic3RyZWV0X2FkZHJlc3MiLCAiY2l0eSIsICJzdGF0ZSJdCn0=
                      createdAt: 2023-03-01T13:28:35.164Z
                    - id: schema1
                      version: 2
                      type: JSON
                      schemaDefinition: ewogICIkaWQiOiAiaHR0cHM6Ly9leGFtcGxlLmNvbS9hZGRyZXNzLmpzb24iLAogICIkc2NoZW1hIjogImh0dHA6Ly9qc29uLXNjaGVtYS5vcmcvZHJhZnQtMDcvc2NoZW1hIiwKICAidHlwZSI6ICJvYmplY3QiLAogICJwcm9wZXJ0aWVzIjogewogICAgInN0cmVldF9hZGRyZXNzIjogeyAidHlwZSI6ICJzdHJpbmciIH0sCiAgICAiY2l0eSI6IHsgInR5cGUiOiAic3RyaW5nIiB9LAogICAgInN0YXRlIjogeyAidHlwZSI6ICJzdHJpbmciIH0KICB9LAogICJyZXF1aXJlZCI6IFsic3RyZWV0X2FkZHJlc3MiLCAiY2l0eSIsICJzdGF0ZSJdCn0=
                      createdAt: 2023-03-01T13:38:35.164Z
                    - id: schema1
                      version: 3
                      type: JSON
                      schemaDefinition: ewogICIkaWQiOiAiaHR0cHM6Ly9leGFtcGxlLmNvbS9hZGRyZXNzLmpzb24iLAogICIkc2NoZW1hIjogImh0dHA6Ly9qc29uLXNjaGVtYS5vcmcvZHJhZnQtMDcvc2NoZW1hIiwKICAidHlwZSI6ICJvYmplY3QiLAogICJwcm9wZXJ0aWVzIjogewogICAgInN0cmVldF9hZGRyZXNzIjogeyAidHlwZSI6ICJzdHJpbmciIH0sCiAgICAiY2l0eSI6IHsgInR5cGUiOiAic3RyaW5nIiB9LAogICAgInN0YXRlIjogeyAidHlwZSI6ICJzdHJpbmciIH0KICB9LAogICJyZXF1aXJlZCI6IFsic3RyZWV0X2FkZHJlc3MiLCAiY2l0eSIsICJzdGF0ZSJdCn0=
                      createdAt: 2023-03-01T13:48:35.164Z
              schema:
                $ref: '#/components/schemas/SchemaList'
          description: Success
        "503":
          content:
            application/json:
              examples:
                version-check-failed:
                  description: Version check failed
                  summary: Version check failed
                  value:
                    errors:
                    - title: Endpoint not active yet
                      detail: "Not all cluster nodes support this endpoint yet, please\
                        \ try again later"
              schema:
                $ref: '#/components/schemas/Errors'
          description: Not all cluster nodes at minimum version
      summary: Get all schemas
      tags:
      - Data Hub - Schemas
    post:
      description: |-
        Creates a schema

        This endpoint requires at least HiveMQ version 4.15.0 on all cluster nodes.
      operationId: createSchema
      requestBody:
        content:
          application/json:
            example:
              id: schema
              type: JSON
              schemaDefinition: ewogICIkaWQiOiAiaHR0cHM6Ly9leGFtcGxlLmNvbS9hZGRyZXNzLmpzb24iLAogICIkc2NoZW1hIjogImh0dHA6Ly9qc29uLXNjaGVtYS5vcmcvZHJhZnQtMDcvc2NoZW1hIiwKICAidHlwZSI6ICJvYmplY3QiLAogICJwcm9wZXJ0aWVzIjogewogICAgInN0cmVldF9hZGRyZXNzIjogeyAidHlwZSI6ICJzdHJpbmciIH0sCiAgICAiY2l0eSI6IHsgInR5cGUiOiAic3RyaW5nIiB9LAogICAgInN0YXRlIjogeyAidHlwZSI6ICJzdHJpbmciIH0KICB9LAogICJyZXF1aXJlZCI6IFsic3RyZWV0X2FkZHJlc3MiLCAiY2l0eSIsICJzdGF0ZSJdCn0=
            schema:
              $ref: '#/components/schemas/Schema'
        description: The schema that should be created.
        required: true
      responses:
        "201":
          content:
            application/json:
              examples:
                response-example:
                  description: Example response.
                  summary: Schema was created successfully
                  value:
                    id: schema
                    version: 1
                    type: JSON
                    schemaDefinition: ewogICIkaWQiOiAiaHR0cHM6Ly9leGFtcGxlLmNvbS9hZGRyZXNzLmpzb24iLAogICIkc2NoZW1hIjogImh0dHA6Ly9qc29uLXNjaGVtYS5vcmcvZHJhZnQtMDcvc2NoZW1hIiwKICAidHlwZSI6ICJvYmplY3QiLAogICJwcm9wZXJ0aWVzIjogewogICAgInN0cmVldF9hZGRyZXNzIjogeyAidHlwZSI6ICJzdHJpbmciIH0sCiAgICAiY2l0eSI6IHsgInR5cGUiOiAic3RyaW5nIiB9LAogICAgInN0YXRlIjogeyAidHlwZSI6ICJzdHJpbmciIH0KICB9LAogICJyZXF1aXJlZCI6IFsic3RyZWV0X2FkZHJlc3MiLCAiY2l0eSIsICJzdGF0ZSJdCn0=
                    createdAt: 2023-03-01T13:28:35.164Z
              schema:
                $ref: '#/components/schemas/Schema'
          description: Success
        "400":
          content:
            application/json:
              examples:
                Schema-already-present:
                  description: Example response when the schema is already present.
                  summary: The given schema is already present as latest version
                  value:
                    errors:
                    - title: Schema already present
                      detail: The given schema is already present as the latest version
                        for the schema id 'schemaId'.
                param-missing:
                  description: Example response when a required parameter is missing.
                  summary: Required URL parameter missing
                  value:
                    errors:
                    - title: Required parameter missing
                      detail: Required URL parameter 'parameterName' is missing
                schema-not-parsable:
                  description: Example response when the submitted schema could not
                    be parsed as JSON.
                  summary: The submitted schema can not be parsed
                  value:
                    errors:
                    - title: Schema not parsable
                      detail: The submitted schema 'schema' can not be parsed.
                schema-type-not-supported:
                  description: Example response when the specified schema type is
                    not supported.
                  summary: The submitted schema type is not supported
                  value:
                    errors:
                    - title: Schema type not supported
                      detail: The submitted schema type 'schema-type' is not supported
              schema:
                $ref: '#/components/schemas/Errors'
          description: Bad request
        "503":
          content:
            application/json:
              examples:
                temporarily-not-available:
                  description: The endpoint is temporarily not available
                  summary: Temporarily not available
                  value:
                    errors:
                    - title: The endpoint is temporarily not available
                      detail: "The endpoint is temporarily not available, please try\
                        \ again later"
                version-check-failed:
                  description: Version check failed
                  summary: Version check failed
                  value:
                    errors:
                    - title: Endpoint not active yet
                      detail: "Not all cluster nodes support this endpoint yet, please\
                        \ try again later"
              schema:
                $ref: '#/components/schemas/Errors'
          description: Not all cluster nodes at minimum version
      summary: Create a new schema
      tags:
      - Data Hub - Schemas
  /api/v1/data-hub/schemas/{schemaId}:
    delete:
      description: "Deletes the selected schema and all associated versions of the\
        \ schema. \n\n This endpoint requires HiveMQ version4.15.0 or above on all\
        \ cluster nodes."
      operationId: deleteSchema
      parameters:
      - description: The schema identifier of the schema versions to delete.
        example: schema1
        in: path
        name: schemaId
        required: true
        schema:
          type: string
      responses:
        "204":
          description: "Success, no response body"
        "400":
          content:
            application/json:
              examples:
                param-missing:
                  description: Bad request
                  summary: Required URL parameter missing
                  value:
                    errors:
                    - title: Required parameter missing
                      detail: Required URL parameter 'parameterName' is missing
              schema:
                $ref: '#/components/schemas/Errors'
          description: Bad request
        "404":
          content:
            application/json:
              examples:
                not-found:
                  description: Resource not found
                  summary: Not found
                  value:
                    errors:
                    - title: Resource not found
                      detail: Resource with id 'my-resource-id' not found
              schema:
                $ref: '#/components/schemas/Errors'
          description: Resource not found
        "503":
          content:
            application/json:
              examples:
                version-check-failed:
                  description: Version check failed
                  summary: Version check failed
                  value:
                    errors:
                    - title: Endpoint not active yet
                      detail: "Not all cluster nodes support this endpoint yet, please\
                        \ try again later"
              schema:
                $ref: '#/components/schemas/Errors'
          description: Not all cluster nodes at minimum version
      summary: Delete all versions of the schema
      tags:
      - Data Hub - Schemas
    get:
      description: "Get a specific schema. \n\n This endpoint returns the content\
        \ of the latest version of the schema with the content-type `application/json`.\
        \ \n\n This endpoint requires at least HiveMQ version 4.15.0 on all cluster\
        \ nodes."
      operationId: getSchema
      parameters:
      - description: The identifier of the schema.
        example: schema1
        in: path
        name: schemaId
        required: true
        schema:
          type: string
      - description: "Comma-separated list of fields to include in the response. Allowed\
          \ values are: id, type, schemaDefinition, createdAt"
        example: "id,type"
        in: query
        name: fields
        schema:
          type: string
      responses:
        "200":
          content:
            application/json:
              examples:
                get-response:
                  description: Get schema
                  summary: Get schema
                  value:
                    id: schema
                    version: 1
                    type: JSON
                    schemaDefinition: ewogICIkaWQiOiAiaHR0cHM6Ly9leGFtcGxlLmNvbS9hZGRyZXNzLmpzb24iLAogICIkc2NoZW1hIjogImh0dHA6Ly9qc29uLXNjaGVtYS5vcmcvZHJhZnQtMDcvc2NoZW1hIiwKICAidHlwZSI6ICJvYmplY3QiLAogICJwcm9wZXJ0aWVzIjogewogICAgInN0cmVldF9hZGRyZXNzIjogeyAidHlwZSI6ICJzdHJpbmciIH0sCiAgICAiY2l0eSI6IHsgInR5cGUiOiAic3RyaW5nIiB9LAogICAgInN0YXRlIjogeyAidHlwZSI6ICJzdHJpbmciIH0KICB9LAogICJyZXF1aXJlZCI6IFsic3RyZWV0X2FkZHJlc3MiLCAiY2l0eSIsICJzdGF0ZSJdCn0=
                    createdAt: 2023-03-01T13:28:35.164Z
              schema:
                $ref: '#/components/schemas/Schema'
          description: Success
        "400":
          content:
            application/json:
              examples:
                param-missing:
                  description: Bad request
                  summary: Required URL parameter missing
                  value:
                    errors:
                    - title: Required parameter missing
                      detail: Required URL parameter 'parameterName' is missing
              schema:
                $ref: '#/components/schemas/Errors'
          description: Bad request
        "404":
          content:
            application/json:
              examples:
                not-found:
                  description: Resource not found
                  summary: Not found
                  value:
                    errors:
                    - title: Resource not found
                      detail: Resource with id 'my-resource-id' not found
              schema:
                $ref: '#/components/schemas/Errors'
          description: Resource not found
      summary: Get a schema
      tags:
      - Data Hub - Schemas
  /api/v1/data-hub/scripts:
    get:
      description: Get all scripts.
      operationId: getAllScripts
      parameters:
      - description: "Comma-separated list of fields to include in the response. Allowed\
          \ values are: id, version, description, runtime, functionType, createdAt"
        example: "id,createdAt,source"
        in: query
        name: fields
        schema:
          type: string
      - description: Comma-separated list of function types used for filtering. Multiple
          filters can be applied together.
        example: TRANSFORMATION
        in: query
        name: functionTypes
        schema:
          type: string
      - description: Comma-separated list of script ids used for filtering. Multiple
          filters can be applied together.
        example: "script1,script2"
        in: query
        name: scriptIds
        schema:
          type: string
      - description: Specifies the page size for the returned results. Has to be between
          10 and 500. Default page size is 50.
        example: 100
        in: query
        name: limit
        schema:
          type: integer
          format: int32
      - description: The cursor that has been returned by the previous result page.
          Do not pass this parameter if you want to fetch the first page.
        in: query
        name: cursor
        schema:
          type: string
      responses:
        "200":
          content:
            application/json:
              examples:
                list-response-1:
                  description: Example response with a single script
                  summary: Single Result
                  value:
                    items:
                    - id: my-transform.js
                      version: 1
                      createdAt: 2023-11-21T13:08:09.898Z
                      description: This script prefixes topics with 'transformed/'
                      functionType: TRANSFORMATION
                      source: ZnVuY3Rpb24gdHJhbnNmb3JtKHB1Ymxpc2gsIGNvbnRleHQpIHsKICAgcHVibGlzaC50b3BpYyA9ICJ0cmFuc2Zvcm1lZC8iICsgcHVibGlzaC50b3BpYzsKICAgcmV0dXJuIHB1Ymxpc2g7Cn0=
                list-response-b:
                  description: Example response with multiple sripts. More pages left
                  summary: "Multiple results, more pages left"
                  value:
                    items:
                    - id: my-transform.js
                      version: 1
                      createdAt: 2023-11-21T13:08:09.898Z
                      description: This script prefixes topics with 'transformed/'
                      functionType: TRANSFORMATION
                      source: ZnVuY3Rpb24gdHJhbnNmb3JtKHB1Ymxpc2gsIGNvbnRleHQpIHsKICAgcHVibGlzaC50b3BpYyA9ICJ0cmFuc2Zvcm1lZC8iICsgcHVibGlzaC50b3BpYzsKICAgcmV0dXJuIHB1Ymxpc2g7Cn0=
                    - id: my-transform-new.js
                      version: 1
                      createdAt: 2023-11-21T13:17:53.085Z
                      description: "This script adds the user property ('foo', 'bar')\
                        \ to a publish"
                      functionType: TRANSFORMATION
                      source: ZnVuY3Rpb24gdHJhbnNmb3JtKHB1Ymxpc2gsIGNvbnRleHQpIHsgcHVibGlzaC51c2VyUHJvcGVydGllcy5wdXNoKHtuYW1lOiAnZm9vJywgdmFsdWU6ICdiYXInfSk7IHJldHVybiBwdWJsaXNoOyB9
                    _links:
                      next: /api/v1/data-hub/scripts?cursor=a-WfW-QB4L4Q==&limit=3
                list-response-c:
                  description: Example response with requested fields and multiple
                    scripts. More pages left
                  summary: "Multiple results, requested 'id' field"
                  value:
                    items:
                    - id: script1
                    - id: script2
                    - id: script3
                    _links:
                      next: /api/v1/data-hub/scripts?cursor=a-eqj-GE9B5DkV-nhwVBk-nTL807ty&limit=3&fields=id
                list-response-e:
                  description: Example response with all versions of specific script
                    id.
                  summary: "List versions of one script, last page"
                  value:
                    items:
                    - id: my-transform.js
                      version: 1
                      createdAt: 2023-11-21T13:08:09.898Z
                      description: This script prefixes topics with 'transformed/'
                      functionType: TRANSFORMATION
                      source: ZnVuY3Rpb24gdHJhbnNmb3JtKHB1Ymxpc2gsIGNvbnRleHQpIHsKICAgcHVibGlzaC50b3BpYyA9ICJ0cmFuc2Zvcm1lZC8iICsgcHVibGlzaC50b3BpYzsKICAgcmV0dXJuIHB1Ymxpc2g7Cn0=
                    - id: my-transform.js
                      version: 2
                      createdAt: 2023-11-21T13:17:53.085Z
                      description: This script prefixes topics with 'transformed/'
                      functionType: TRANSFORMATION
                      source: ZnVuY3Rpb24gdHJhbnNmb3JtKHB1Ymxpc2gsIGNvbnRleHQpIHsgcHVibGlzaC51c2VyUHJvcGVydGllcy5wdXNoKHtuYW1lOiAnZm9vJywgdmFsdWU6ICdiYXInfSk7IHJldHVybiBwdWJsaXNoOyB9
                list-response-many:
                  description: Example response with multiple scripts
                  summary: Multiple results
                  value:
                    items:
                    - id: my-transform.js
                      version: 1
                      createdAt: 2023-11-21T13:08:09.898Z
                      description: This script prefixes topics with 'transformed/'
                      functionType: TRANSFORMATION
                      source: ZnVuY3Rpb24gdHJhbnNmb3JtKHB1Ymxpc2gsIGNvbnRleHQpIHsKICAgcHVibGlzaC50b3BpYyA9ICJ0cmFuc2Zvcm1lZC8iICsgcHVibGlzaC50b3BpYzsKICAgcmV0dXJuIHB1Ymxpc2g7Cn0=
                    - id: my-transform-new.js
                      version: 1
                      createdAt: 2023-11-21T13:17:53.085Z
                      description: "This script adds the user property ('foo', 'bar')\
                        \ to a publish"
                      functionType: TRANSFORMATION
                      source: ZnVuY3Rpb24gdHJhbnNmb3JtKHB1Ymxpc2gsIGNvbnRleHQpIHsgcHVibGlzaC51c2VyUHJvcGVydGllcy5wdXNoKHtuYW1lOiAnZm9vJywgdmFsdWU6ICdiYXInfSk7IHJldHVybiBwdWJsaXNoOyB9
              schema:
                $ref: '#/components/schemas/ScriptList'
          description: Success
        "503":
          content:
            application/json:
              examples:
                version-check-failed:
                  description: Version check failed
                  summary: Version check failed
                  value:
                    errors:
                    - title: Endpoint not active yet
                      detail: "Not all cluster nodes support this endpoint yet, please\
                        \ try again later"
              schema:
                $ref: '#/components/schemas/Errors'
          description: Not all cluster nodes at minimum version
      summary: Get all scripts
      tags:
      - Data Hub - Scripts
    post:
      description: Creates a script
      operationId: createScript
      requestBody:
        content:
          application/json:
            example:
              id: my-transform.js
              description: This script prefixes topics with 'transformed/'
              functionType: TRANSFORMATION
              source: ZnVuY3Rpb24gdHJhbnNmb3JtKHB1Ymxpc2gsIGNvbnRleHQpIHsKICAgcHVibGlzaC50b3BpYyA9ICJ0cmFuc2Zvcm1lZC8iICsgcHVibGlzaC50b3BpYzsKICAgcmV0dXJuIHB1Ymxpc2g7Cn0=
            schema:
              $ref: '#/components/schemas/Script'
        description: The script that should be created.
        required: true
      responses:
        "201":
          content:
            application/json:
              examples:
                response-example:
                  description: Example response.
                  summary: Script was created successfully
                  value:
                    id: my-transform.js
                    version: 1
                    createdAt: 2023-11-21T13:08:09.898Z
                    description: This script prefixes topics with 'transformed/'
                    functionType: TRANSFORMATION
                    source: ZnVuY3Rpb24gdHJhbnNmb3JtKHB1Ymxpc2gsIGNvbnRleHQpIHsKICAgcHVibGlzaC50b3BpYyA9ICJ0cmFuc2Zvcm1lZC8iICsgcHVibGlzaC50b3BpYzsKICAgcmV0dXJuIHB1Ymxpc2g7Cn0=
              schema:
                $ref: '#/components/schemas/Script'
          description: Success
        "400":
          content:
            application/json:
              examples:
                input-cannot-be-parsed:
                  description: Example response when input cannot be parsed.
                  summary: Unable to parse JSON body
                  value:
                    errors:
                    - title: Invalid input
                      detail: Unable to parse JSON body
                script-already-present:
                  description: Example response when the script is already present.
                  summary: The given script is identical to the latest version
                  value:
                    errors:
                    - title: Script already present
                      detail: The given script is identical to the latest version
                        of the script with id 'scriptId'.
              schema:
                $ref: '#/components/schemas/Errors'
          description: Bad request
        "503":
          content:
            application/json:
              examples:
                version-check-failed:
                  description: Version check failed
                  summary: Version check failed
                  value:
                    errors:
                    - title: Endpoint not active yet
                      detail: "Not all cluster nodes support this endpoint yet, please\
                        \ try again later"
              schema:
                $ref: '#/components/schemas/Errors'
          description: Not all cluster nodes at minimum version
      summary: Create a new script
      tags:
      - Data Hub - Scripts
  /api/v1/data-hub/scripts/{scriptId}:
    delete:
      description: Deletes the selected script.
      operationId: deleteScript
      parameters:
      - description: The script identifier of the script to delete.
        example: hello_world_function
        in: path
        name: scriptId
        required: true
        schema:
          type: string
      responses:
        "204":
          description: "Success, no response body"
        "400":
          content:
            application/json:
              examples:
                param-missing:
                  description: Bad request
                  summary: Required URL parameter missing
              schema:
                $ref: '#/components/schemas/Errors'
          description: Bad request
        "404":
          content:
            application/json:
              examples:
                not-found:
                  description: Resource not found
                  summary: Not found
                  value:
                    errors:
                    - title: Resource not found
                      detail: Resource with id 'my-resource-id' not found
              schema:
                $ref: '#/components/schemas/Errors'
          description: Resource not found
        "503":
          content:
            application/json:
              examples:
                version-check-failed:
                  description: Version check failed
                  summary: Version check failed
                  value:
                    errors:
                    - title: Endpoint not active yet
                      detail: "Not all cluster nodes support this endpoint yet, please\
                        \ try again later"
              schema:
                $ref: '#/components/schemas/Errors'
          description: Not all cluster nodes at minimum version
      summary: Delete a script
      tags:
      - Data Hub - Scripts
    get:
      description: Get a specific script.
      operationId: getScript
      parameters:
      - description: The identifier of the script.
        example: hello_world_function
        in: path
        name: scriptId
        required: true
        schema:
          type: string
      - description: "Comma-separated list of fields to include in the response. Allowed\
          \ values are: id, version, description, runtime, functionType, createdAt"
        example: "id,createdAt,source"
        in: query
        name: fields
        schema:
          type: string
      responses:
        "200":
          content:
            application/json:
              examples:
                get-response:
                  description: Get script
                  summary: Get script
                  value:
                    id: my-transform.js
                    version: 1
                    createdAt: 2023-11-21T13:08:09.898Z
                    description: This script prefixes topics with 'transformed/'
                    functionType: TRANSFORMATION
                    source: ZnVuY3Rpb24gdHJhbnNmb3JtKHB1Ymxpc2gsIGNvbnRleHQpIHsKICAgcHVibGlzaC50b3BpYyA9ICJ0cmFuc2Zvcm1lZC8iICsgcHVibGlzaC50b3BpYzsKICAgcmV0dXJuIHB1Ymxpc2g7Cn0=
              schema:
                $ref: '#/components/schemas/Script'
          description: Success
        "400":
          content:
            application/json:
              examples:
                param-missing:
                  description: Bad request
                  summary: Required URL parameter missing
                  value:
                    errors:
                    - title: Required parameter missing
                      detail: Required URL parameter 'parameterName' is missing
              schema:
                $ref: '#/components/schemas/Errors'
          description: Bad request
        "404":
          content:
            application/json:
              examples:
                not-found:
                  description: Resource not found
                  summary: Not found
                  value:
                    errors:
                    - title: Resource not found
                      detail: Resource with id 'my-resource-id' not found
              schema:
                $ref: '#/components/schemas/Errors'
          description: Resource not found
      summary: Get a script
      tags:
      - Data Hub - Scripts
  /api/v1/management/backups:
    get:
      description: |-
        Lists all available backups with their current state.

        This endpoint can be used to get an overview over all backups that are in progress or can be restored.

        Canceled or failed backups are included in the results for up to 1 hour after they have been requested.

        This endpoint requires at least HiveMQ version 4.4.0. on all cluster nodes.
      operationId: getAllBackups
      responses:
        "200":
          content:
            application/json:
              examples:
                empty-results:
                  description: Empty result if no backups are known.
                  summary: Empty result if no backups are known
                  value:
                    items: []
                multiple-results:
                  description: Example response with one stored backup and one backup
                    that is currently in progress.
                  summary: Multiple results in different states
                  value:
                    items:
                    - id: 20200506-081317
                      createdAt: 2020-05-06T08:13:17Z
                      bytes: 85550653
                      state: COMPLETED
                    - id: 20201006-1902318
                      createdAt: 2020-05-06T08:13:17Z
                      state: IN_PROGRESS
                    - id: 20201006-1902318
                      createdAt: 2020-05-06T08:13:17Z
                      state: FAILED
                      failReason: Another backup is already in progress.
              schema:
                $ref: '#/components/schemas/BackupList'
          description: Success
        "503":
          content:
            application/json:
              examples:
                temporarily-not-available:
                  description: The endpoint is temporarily not available
                  summary: Temporarily not available
                  value:
                    errors:
                    - title: The endpoint is temporarily not available
                      detail: "The endpoint is temporarily not available, please try\
                        \ again later"
              schema:
                $ref: '#/components/schemas/Errors'
          description: Temporarily not available
      summary: List all available backups
      tags:
      - Backup & Restore
    post:
      description: |-
        Triggers the creation of a new backup.

        This endpoint requires at least HiveMQ version 4.4.0. on all cluster nodes.
      operationId: createBackup
      responses:
        "200":
          content:
            application/json:
              examples:
                example:
                  description: Example response with in-progress backup.
                  summary: Created backup that is currently in progress
                  value:
                    backup:
                      id: 20201006-1902318
                      createdAt: 2020-05-06T08:13:17Z
                      state: IN_PROGRESS
              schema:
                $ref: '#/components/schemas/BackupItem'
          description: Success
        "503":
          content:
            application/json:
              examples:
                temporarily-not-available:
                  description: The endpoint is temporarily not available
                  summary: Temporarily not available
                  value:
                    errors:
                    - title: The endpoint is temporarily not available
                      detail: "The endpoint is temporarily not available, please try\
                        \ again later"
              schema:
                $ref: '#/components/schemas/Errors'
          description: Temporarily not available
      summary: Create a new backup
      tags:
      - Backup & Restore
  /api/v1/management/backups/{backupId}:
    get:
      description: |-
        Returns the information for a specific backup with its current state.

         This endpoint can be used to check the progress of a specific backup when it is being created or being restored.

          Canceled or failed backups are returned for up to 1 hour after the have been requested.

         This endpoint requires at least HiveMQ version 4.4.0. on all cluster nodes.
      operationId: getBackup
      parameters:
      - description: The id of the backup.
        in: path
        name: backupId
        required: true
        schema:
          type: string
      responses:
        "200":
          content:
            application/json:
              examples:
                get-example:
                  description: Example response.
                  summary: Example with a completed backup
                  value:
                    backup:
                      id: 20200506-081317
                      createdAt: 2020-05-06T08:13:17Z
                      bytes: 85550653
                      state: COMPLETED
              schema:
                $ref: '#/components/schemas/BackupItem'
          description: Success
        "400":
          content:
            application/json:
              examples:
                param-missing:
                  description: Bad request
                  summary: Required URL parameter missing
                  value:
                    errors:
                    - title: Required parameter missing
                      detail: Required URL parameter 'parameterName' is missing
              schema:
                $ref: '#/components/schemas/Errors'
          description: Bad request
        "404":
          content:
            application/json:
              examples:
                not-found:
                  description: Not found
                  summary: Not found
                  value:
                    errors:
                    - title: Resource not found
                      detail: Resource with id 'my-resource-id' not found
              schema:
                $ref: '#/components/schemas/Errors'
          description: Resource not found
        "503":
          content:
            application/json:
              examples:
                temporarily-not-available:
                  description: The endpoint is temporarily not available
                  summary: Temporarily not available
                  value:
                    errors:
                    - title: The endpoint is temporarily not available
                      detail: "The endpoint is temporarily not available, please try\
                        \ again later"
              schema:
                $ref: '#/components/schemas/Errors'
          description: Temporarily not available
      summary: Get backup information
      tags:
      - Backup & Restore
    post:
      description: |-
        Triggers the restore of a stored backup.

        This endpoint requires at least HiveMQ version 4.4.0. on all cluster nodes.
      operationId: restoreBackup
      parameters:
      - description: The id of the backup.
        in: path
        name: backupId
        required: true
        schema:
          type: string
      responses:
        "200":
          content:
            application/json:
              examples:
                example:
                  description: Example response.
                  summary: Created backup that is currently in progress
                  value:
                    backup:
                      id: 20201006-1902318
                      createdAt: 2020-05-06T08:13:17Z
                      state: IN_PROGRESS
              schema:
                $ref: '#/components/schemas/BackupItem'
          description: Success
        "400":
          content:
            application/json:
              examples:
                param-missing:
                  description: Bad request
                  summary: Required URL parameter missing
                  value:
                    errors:
                    - title: Required parameter missing
                      detail: Required URL parameter 'parameterName' is missing
              schema:
                $ref: '#/components/schemas/Errors'
          description: Bad request
        "404":
          content:
            application/json:
              examples:
                not-found:
                  description: Example not found
                  summary: Not found
                  value:
                    errors:
                    - title: Resource not found
                      detail: Resource with id 'my-resource-id' not found
              schema:
                $ref: '#/components/schemas/Errors'
          description: Resource not found
        "503":
          content:
            application/json:
              examples:
                temporarily-not-available:
                  description: The endpoint is temporarily not available
                  summary: Temporarily not available
                  value:
                    errors:
                    - title: The endpoint is temporarily not available
                      detail: "The endpoint is temporarily not available, please try\
                        \ again later"
              schema:
                $ref: '#/components/schemas/Errors'
          description: Temporarily not available
      summary: Restore a new backup
      tags:
      - Backup & Restore
  /api/v1/management/diagnostic-archives:
    post:
      description: Triggers the creation of a new diagnostic archive.
      operationId: createDiagnosticArchive
      responses:
        "200":
          content:
            application/json:
              examples:
                example:
                  description: Example response with in-progress diagnostic archive
                    creation.
                  summary: Creation of a diagnostic archive that is currently in progress
                  value:
                    diagnosticArchive:
                      id: 20230201-192318
                      createdAt: 2023-01-02T08:13:17Z
                      state: IN_PROGRESS
              schema:
                $ref: '#/components/schemas/DiagnosticArchiveItem'
          description: Success
      summary: Create a new diagnostic archive
      tags:
      - Diagnostic Archive
  /api/v1/management/files/backups/{backupId}:
    get:
      description: "Download a specific backup file. \n\n This endpoint returns the\
        \ content of the backup file with the content-type `application/octet-stream`.\
        \ \n\n Only backups in the states `COMPLETED`, `RESTORE_IN_PROGRESS`, `RESTORE_FAILED`\
        \ or `RESTORE_COMPLETED` can be downloaded.\n\n This endpoint requires at\
        \ least HiveMQ version 4.4.0. on all cluster nodes."
      operationId: downloadBackupFile
      parameters:
      - description: The id of the backup.
        in: path
        name: backupId
        required: true
        schema:
          type: string
      responses:
        "200":
          content:
            application/octet-stream:
              examples:
                file-download:
                  description: File download
                  summary: File download
                  value: <raw data>
              schema:
                type: string
                format: binary
          description: Success
        "400":
          content:
            application/json:
              examples:
                param-missing:
                  description: Bad request
                  summary: Required URL parameter missing
                  value:
                    errors:
                    - title: Required parameter missing
                      detail: Required URL parameter 'parameterName' is missing
              schema:
                $ref: '#/components/schemas/Errors'
          description: Bad request
        "404":
          content:
            application/json:
              examples:
                not-found:
                  description: Resource not found
                  summary: Not found
                  value:
                    errors:
                    - title: Resource not found
                      detail: Resource with id 'my-resource-id' not found
              schema:
                $ref: '#/components/schemas/Errors'
          description: Resource not found
        "503":
          content:
            application/json:
              examples:
                temporarily-not-available:
                  description: The endpoint is temporarily not available
                  summary: Temporarily not available
                  value:
                    errors:
                    - title: The endpoint is temporarily not available
                      detail: "The endpoint is temporarily not available, please try\
                        \ again later"
              schema:
                $ref: '#/components/schemas/Errors'
          description: Temporarily not available
      summary: Download a backup file
      tags:
      - Backup & Restore
  /api/v1/management/files/trace-recordings/{traceRecordingId}:
    get:
      description: "Download a specific trace recording. \n\n This endpoint returns\
        \ the content of the trace recording with the content-type `application/zip`.\
        \ \n\nOnly trace recordings in the states `IN_PROGRESS`, `STOPPED` and `ABORTED`\
        \ can be downloaded."
      operationId: downloadTraceRecordingFile
      parameters:
      - description: The id of the trace recording.
        in: path
        name: traceRecordingId
        required: true
        schema:
          type: string
      responses:
        "200":
          content:
            application/zip:
              examples:
                file-download:
                  description: File download
                  summary: File download
                  value: <raw data>
              schema:
                type: string
                format: binary
          description: Success
        "400":
          content:
            application/json:
              examples:
                param-missing:
                  description: Bad request
                  summary: Required URL parameter missing
                  value:
                    errors:
                    - title: Required parameter missing
                      detail: Required URL parameter 'parameterName' is missing
              schema:
                $ref: '#/components/schemas/Errors'
          description: Bad request
        "404":
          content:
            application/json:
              examples:
                not-found:
                  description: Resource not found
                  summary: Not found
                  value:
                    errors:
                    - title: Resource not found
                      detail: Resource with id 'my-resource-id' not found
              schema:
                $ref: '#/components/schemas/Errors'
          description: Resource not found
      summary: Download a trace recording
      tags:
      - Trace Recordings
  /api/v1/management/trace-recordings:
    get:
      description: "Lists all known trace recordings. \n\nTrace recordings can be\
        \ in different states. These states are:\n- `SCHEDULED` if the start date\
        \ for a trace recording is in the future\n- `STOPPED` if a trace recording\
        \ has reached its end date or was stopped manually\n- `IN_PROGRESS` when the\
        \ trace recording is currently ongoing\n- `ABORTED` if the trace recording\
        \ was aborted by the server\n"
      operationId: getAllTraceRecordings
      responses:
        "200":
          content:
            application/json:
              examples:
                single-result:
                  description: Example response with one recording that is in progress.
                  summary: Single result
                  value:
                    items:
                    - name: test
                      startAt: 2020-07-23T12:07:30.000Z
                      endAt: 2020-07-23T13:07:30.000Z
                      clientIdFilters:
                      - regex: "client-[0-9]"
                      topicFilters:
                      - regex: topic/.*
                      events:
                      - MQTT_MESSAGE_CONNECT
                      - MQTT_MESSAGE_DISCONNECT
                      state: IN_PROGRESS
              schema:
                $ref: '#/components/schemas/TraceRecordingList'
          description: Success
      summary: Get all trace recordings
      tags:
      - Trace Recordings
    post:
      description: "Creates a new trace recording. \n\n To create a trace recording\
        \ you must specify a name, start date, end date, a set of filters and the\
        \ desired packets that should be traced.\n\nAt least one client or topic filter\
        \ and at least one packet is required to create a trace recording.\n\nThe\
        \ client and topic filters can be [regular expressions](https://www.hivemq.com/docs/hivemq/4.3/control-center/analytic.html#regular-expressions)."
      operationId: createTraceRecording
      requestBody:
        content:
          application/json:
            examples:
              simple-query:
                description: "A sample trace recording with a duration of 1 hour,\
                  \ tracing one client, topic filter and CONNECT events."
                summary: Simple query
                value:
                  traceRecording:
                    name: test
                    startAt: 2020-07-23T12:07:30.000Z
                    endAt: 2020-07-23T13:07:30.000Z
                    clientIdFilters:
                    - regex: "client-[0-9]"
                    topicFilters:
                    - regex: topic/.*
                    events:
                    - MQTT_MESSAGE_CONNECT
            schema:
              $ref: '#/components/schemas/TraceRecordingItem'
        description: The trace recording to create
      responses:
        "201":
          content:
            application/json:
              examples:
                simple-query-result:
                  description: Response from the server after it created the trace
                    recording. Includes the resulting current state of the recording.
                  summary: Simple query - result
                  value:
                    traceRecording:
                      name: test
                      startAt: 2020-07-23T12:07:30.000Z
                      endAt: 2020-07-23T13:07:30.000Z
                      clientIdFilters:
                      - regex: test
                      topicFilters:
                      - regex: test-topic
                      events:
                      - MQTT_MESSAGE_CONNECT
                      state: IN_PROGRESS
              schema:
                $ref: '#/components/schemas/TraceRecordingItem'
          description: Success
        "400":
          content:
            application/json:
              examples:
                body-param-missing:
                  description: Bad request
                  summary: Required body entity parameter missing
                  value:
                    errors:
                    - title: Required parameter missing
                      detail: Required body entity parameter is missing
                invalid-resource:
                  description: Bad request
                  summary: Invalid resource
                  value:
                    errors:
                    - title: Invalid resource
                      detail: "The fields {name, events, startAt, endAt} must be specified\
                        \ at creation"
                param-missing:
                  description: Bad request
                  summary: Required URL parameter missing
                  value:
                    errors:
                    - title: Required parameter missing
                      detail: Required URL parameter 'parameterName' is missing
              schema:
                $ref: '#/components/schemas/Errors'
          description: Bad request
      summary: Create a trace recording
      tags:
      - Trace Recordings
  /api/v1/management/trace-recordings/{traceRecordingId}:
    delete:
      description: "Deletes an existing trace recording. \n\n "
      operationId: deleteTraceRecording
      parameters:
      - description: The name of the trace recording to delete.
        in: path
        name: traceRecordingId
        required: true
        schema:
          type: string
      responses:
        "204":
          description: "Success, no response body"
        "400":
          content:
            application/json:
              examples:
                param-missing:
                  description: Bad request
                  summary: Required URL parameter missing
                  value:
                    errors:
                    - title: Required parameter missing
                      detail: Required URL parameter 'parameterName' is missing
              schema:
                $ref: '#/components/schemas/Errors'
          description: Bad request
        "404":
          content:
            application/json:
              examples:
                not-found:
                  description: Resource not found
                  summary: Not found
                  value:
                    errors:
                    - title: Resource not found
                      detail: Resource with id 'my-resource-id' not found
              schema:
                $ref: '#/components/schemas/Errors'
          description: Resource not found
      summary: Delete a trace recording
      tags:
      - Trace Recordings
    patch:
      description: |-
        Stops an existing trace recording.

        Only the state of the trace recording can be set to `STOPPED` with this endpoint, changes to other fields are ignored.
      operationId: stopTraceRecording
      parameters:
      - description: The name of the trace recording to patch/stop.
        in: path
        name: traceRecordingId
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            examples:
              stop-query:
                description: Request to stop a trace recording by defining its state
                  as STOPPED.
                summary: Stop query
                value:
                  traceRecording:
                    state: STOPPED
            schema:
              $ref: '#/components/schemas/TraceRecordingItem'
        description: The trace recording to change
      responses:
        "200":
          content:
            application/json:
              examples:
                stop-response:
                  description: A stopped trace recording returned after a stop query
                    was sent.
                  summary: Stop query - response
                  value:
                    traceRecording:
                      name: test
                      startAt: 2020-07-23T12:07:30.000Z
                      endAt: 2020-07-23T13:07:30.000Z
                      clientIdFilters:
                      - regex: test
                      topicFilters:
                      - regex: test-topic
                      events:
                      - MQTT_MESSAGE_CONNECT
                      state: STOPPED
              schema:
                $ref: '#/components/schemas/TraceRecordingItem'
          description: Success
        "400":
          content:
            application/json:
              examples:
                body-param-missing:
                  description: Bad request
                  summary: Required body entity parameter missing
                  value:
                    errors:
                    - title: Required parameter missing
                      detail: Required body entity parameter is missing
                invalid-resource:
                  description: Bad request
                  summary: Invalid resource
                  value:
                    errors:
                    - title: Invalid resource
                      detail: "The fields {name, events, startAt, endAt} must be specified\
                        \ at creation"
                param-missing:
                  description: Bad request
                  summary: Required URL parameter missing
                  value:
                    errors:
                    - title: Required parameter missing
                      detail: Required URL parameter 'parameterName' is missing
              schema:
                $ref: '#/components/schemas/Errors'
          description: Bad request
        "404":
          content:
            application/json:
              examples:
                not-found:
                  description: Resource not found
                  summary: Not found
                  value:
                    errors:
                    - title: Resource not found
                      detail: Resource with id 'my-resource-id' not found
              schema:
                $ref: '#/components/schemas/Errors'
          description: Resource not found
      summary: Stop a trace recording.
      tags:
      - Trace Recordings
  /api/v1/mqtt/clients:
    get:
      description: |-
        Lists all client sessions (online and offline) known to the whole HiveMQ cluster.

        The result contains each client's client identifier. For more details about each client you can call the endpoints that have a clientId in their URL.

        This endpoint uses pagination with a cursor.
        The results are not sorted in any way, no ordering of any kind is guaranteed.

        This endpoint requires at least HiveMQ version 4.4.0. on all cluster nodes.
      operationId: getAllMqttClients
      parameters:
      - description: Specifies the page size for the returned results. Has to be between
          50 and 2500. Default page size is 500.
        in: query
        name: limit
        schema:
          type: integer
          format: int32
      - description: The cursor that has been returned by the previous result page.
          Do not pass this parameter if you want to fetch the first page.
        in: query
        name: cursor
        schema:
          type: string
      responses:
        "200":
          content:
            application/json:
              examples:
                empty-results:
                  description: Empty result if no clients are known.
                  summary: Empty result if no clients are known
                  value:
                    items: []
                multiple-results-last-page:
                  description: Example response with multiple clients. No more pages
                    left.
                  summary: "Multiple results, last page"
                  value:
                    items:
                    - id: client-12
                    - id: client-5
                    - id: client-32
                    - id: my-client-id2
                    - id: my-client-id
                multiple-results-pages-left:
                  description: Example response with multiple clients. More pages
                    left.
                  summary: "Multiple results, more pages left"
                  value:
                    items:
                    - id: client-12
                    - id: client-5
                    - id: client-32
                    - id: my-client-id2
                    - id: my-client-id
                    _links:
                      next: /api/v1/mqtt/clients?cursor=a-MvelExpd5y0SrXBxDhBvnGmohbpzwGDQFdUyOYWBACqs1TgI4-cUo-A=&limit=5
                single-result:
                  description: Example response with one known client.
                  summary: Single result
                  value:
                    items:
                    - id: client-12
              schema:
                $ref: '#/components/schemas/ClientList'
          description: Success
        "400":
          content:
            application/json:
              examples:
                param-missing:
                  description: Bad request
                  summary: Required URL parameter missing
                  value:
                    errors:
                    - title: Required parameter missing
                      detail: Required URL parameter 'parameterName' is missing
              schema:
                $ref: '#/components/schemas/Errors'
          description: Bad request
        "410":
          content:
            application/json:
              examples:
                cursor-invalid:
                  description: Cursor not valid anymore
                  summary: The passed cursor is not valid anymore
                  value:
                    errors:
                    - title: Cursor not valid anymore
                      detail: "The passed cursor is not valid anymore, you can request\
                        \ this resource without a cursor to start from the beginning"
              schema:
                $ref: '#/components/schemas/Errors'
          description: Cursor not valid anymore
        "503":
          content:
            application/json:
              examples:
                version-check-failed:
                  description: Version check failed
                  summary: Version check failed
                  value:
                    errors:
                    - title: Endpoint not active yet
                      detail: "Not all cluster nodes support this endpoint yet, please\
                        \ try again later"
              schema:
                $ref: '#/components/schemas/Errors'
          description: Not all cluster nodes at minimum version
      summary: List all MQTT clients
      tags:
      - MQTT Clients
  /api/v1/mqtt/clients/{clientId}:
    delete:
      description: |-
        Invalidates the client session for a client with the given client identifier. If the client is currently connected, it will be disconnected as well.

         If your client identifiers contain special characters, please make sure that the clientId is URL encoded (a.k.a. percent-encoding, as in RFC 3986).
      operationId: invalidateClientSession
      parameters:
      - description: The MQTT client identifier.
        in: path
        name: clientId
        required: true
        schema:
          type: string
      - description: Whether to prevent the will message.
        in: query
        name: preventWillMessage
        schema:
          type: boolean
          default: false
      responses:
        "204":
          content:
            application/json: {}
          description: Success (no content)
        "400":
          content:
            application/json:
              examples:
                param-invalid:
                  description: Bad request
                  summary: Query parameter can not be parsed
                  value:
                    errors:
                    - title: Parameter invalid
                      detail: Query parameter 'parameter-name' is invalid
              schema:
                $ref: '#/components/schemas/Errors'
          description: Bad request
        "404":
          content:
            application/json:
              examples:
                not-found:
                  description: Not found
                  summary: Not found
                  value:
                    errors:
                    - title: Resource not found
                      detail: Resource with id 'my-resource-id' not found
              schema:
                $ref: '#/components/schemas/Errors'
          description: Resource not found
      summary: Invalidate a client session
      tags:
      - MQTT Clients
    get:
      description: |-
        Returns detailed information for a specific client with it is current state.

         Including all session and connection information.
        If your client identifiers contain special characters, please make sure that the clientId is URL Encoded (a.k.a. percent-encoding, as in RFC 3986).
      operationId: getMqttClientDetails
      parameters:
      - description: The MQTT client identifier.
        in: path
        name: clientId
        required: true
        schema:
          type: string
      responses:
        "200":
          content:
            application/json:
              examples:
                offline-client:
                  description: Offline client
                  summary: offline-client
                  value:
                    client:
                      id: client-1
                      connected: false
                      sessionExpiryInterval: 12345
                      messageQueueSize: 543
                      willPresent: false
                online-client:
                  description: Online client
                  summary: online-client
                  value:
                    client:
                      id: client-2
                      connected: true
                      sessionExpiryInterval: 15000
                      connectedAt: 2020-07-20T14:59:50.580Z
                      messageQueueSize: 0
                      willPresent: false
                      restrictions:
                        maxMessageSize: 268435460
                        maxQueueSize: 1000
                        queuedMessageStrategy: DISCARD
                      connection:
                        keepAlive: 60
                        mqttVersion: MQTTv5
                        connectedListenerId: TCP Listener
                        connectedNodeId: bRIG4
                        cleanStart: true
                        sourceIp: 127.0.0.1
                online-client-tls-proxy:
                  description: Online client with TLS and Proxy Protocol enabled
                  summary: online-client-tls-proxy
                  value:
                    client:
                      id: client-1
                      connected: true
                      sessionExpiryInterval: 12345
                      connectedAt: 2020-07-17T14:47:59.704Z
                      messageQueueSize: 543
                      willPresent: true
                      restrictions:
                        maxMessageSize: 20000
                      connection:
                        keepAlive: 120
                        mqttVersion: 3.1.1
                        connectedListenerId: Tcp Listener
                        connectedNodeId: node1
                        username: username
                        password: cGFzc3dvcmQ=
                        cleanStart: true
                        sourceIp: 192.168.1.200
                        proxyInformation:
                          sourceIp: 127.0.0.2
                          sourcePort: 8080
                          destinationIp: 127.0.0.3
                          destinationPort: 50123
                          tlvs:
                          - key: PP2_TYPE_ALPN
                            value: "1"
                          - key: PP2_TYPE_AUTHORITY
                            value: "2"
                        tlsInformation:
                          cipherSuite: cipher_suite
                          tlsVersion: "1.2"
                          certificateInformation:
                            commonName: common-name
                            organization: org
                            organizationalUnit: org-unit
                            serial: "-3522625861374876620"
                            validFrom: 2020-07-20T14:56:02.000Z
                            validUntil: 2020-07-21T14:56:12.000Z
                            country: DE
                            state: BY
                            version: "2"
              schema:
                $ref: '#/components/schemas/ClientItem'
          description: Success
        "400":
          content:
            application/json:
              examples:
                param-missing:
                  description: Bad request
                  summary: Required URL parameter missing
                  value:
                    errors:
                    - title: Required parameter missing
                      detail: Required URL parameter 'parameterName' is missing
              schema:
                $ref: '#/components/schemas/Errors'
          description: Bad request
        "404":
          content:
            application/json:
              examples:
                not-found:
                  description: Not found
                  summary: Not found
                  value:
                    errors:
                    - title: Resource not found
                      detail: Resource with id 'my-resource-id' not found
              schema:
                $ref: '#/components/schemas/Errors'
          description: Resource not found
      summary: Get detailed client information
      tags:
      - MQTT Clients
  /api/v1/mqtt/clients/{clientId}/connection:
    delete:
      description: |-
        Disconnects a specific client if its is currently connected.

         If your client identifiers contain special characters, please make sure that the clientId is URL Encoded (a.k.a. percent-encoding, as in RFC 3986).
      operationId: disconnectClient
      parameters:
      - description: The MQTT client identifier.
        in: path
        name: clientId
        required: true
        schema:
          type: string
      - description: Whether to prevent the will message.
        in: query
        name: preventWillMessage
        schema:
          type: boolean
          default: false
      responses:
        "204":
          content:
            application/json: {}
          description: Success (no content)
        "400":
          content:
            application/json:
              examples:
                param-invalid:
                  description: Bad request
                  summary: Query parameter can not be parsed
                  value:
                    errors:
                    - title: Parameter invalid
                      detail: Query parameter 'parameter-name' is invalid
              schema:
                $ref: '#/components/schemas/Errors'
          description: Bad request
        "404":
          content:
            application/json:
              examples:
                not-found:
                  description: Not found
                  summary: Not found
                  value:
                    errors:
                    - title: Resource not found
                      detail: Resource with id 'my-resource-id' not found
              schema:
                $ref: '#/components/schemas/Errors'
          description: Resource not found
      summary: Disconnect a client
      tags:
      - MQTT Clients
    get:
      description: |-
        Returns the information if a specific client is currently connected.

         If you are only interested in the connection status of a client prefer this endpoint over the the full client detail.
        If your client identifiers contain special characters, please make sure that the clientId is URL Encoded (a.k.a. percent-encoding, as in RFC 3986).
      operationId: getMqttClientConnectionState
      parameters:
      - description: The MQTT client identifier.
        in: path
        name: clientId
        required: true
        schema:
          type: string
      responses:
        "200":
          content:
            application/json:
              examples:
                online-client:
                  description: Online client
                  summary: online-client
                  value:
                    connection:
                      connected: false
              schema:
                $ref: '#/components/schemas/ConnectionItem'
          description: Success
        "400":
          content:
            application/json:
              examples:
                param-missing:
                  description: Bad request
                  summary: Required URL parameter missing
                  value:
                    errors:
                    - title: Required parameter missing
                      detail: Required URL parameter 'parameterName' is missing
              schema:
                $ref: '#/components/schemas/Errors'
          description: Bad request
        "404":
          content:
            application/json:
              examples:
                not-found:
                  description: Not found
                  summary: Not found
                  value:
                    errors:
                    - title: Resource not found
                      detail: Resource with id 'my-resource-id' not found
              schema:
                $ref: '#/components/schemas/Errors'
          description: Resource not found
      summary: Get a clients connection state
      tags:
      - MQTT Clients
  /api/v1/mqtt/clients/{clientId}/subscriptions:
    get:
      description: |-
        List all subscriptions for a specific client.

        This endpoint does not support pagination with cursor at the moment, but it might be added in future versions. Please make sure to check if a cursor is returned and another page is available to have a future-proof implementation.
      operationId: getSubscriptionsForMqttClient
      parameters:
      - description: The MQTT client identifier.
        in: path
        name: clientId
        required: true
        schema:
          type: string
      responses:
        "200":
          content:
            application/json:
              examples:
                empty-result:
                  description: Empty result if client has no subscriptions.
                  summary: Empty result if client has no subscriptions
                  value:
                    items: []
                multiple-results:
                  description: Example response with multiple results.
                  summary: Multiple results
                  value:
                    items:
                    - topicFilter: topic/0
                      qos: AT_MOST_ONCE
                      retainHandling: SEND
                      retainAsPublished: true
                      noLocal: false
                      subscriptionIdentifier: 1
                    - topicFilter: topic/2
                      qos: EXACTLY_ONCE
                      retainHandling: SEND
                      retainAsPublished: false
                      noLocal: true
                      subscriptionIdentifier: 3
                    - topicFilter: $share/sharename/topic/1
                      qos: AT_LEAST_ONCE
                      retainHandling: DO_NOT_SEND
                      retainAsPublished: false
                      noLocal: false
                      subscriptionIdentifier: 2
              schema:
                $ref: '#/components/schemas/ClientSubscriptionList'
          description: Success
        "400":
          content:
            application/json:
              examples:
                param-missing:
                  description: Bad request
                  summary: Required URL parameter missing
                  value:
                    errors:
                    - title: Required parameter missing
                      detail: Required URL parameter 'parameterName' is missing
              schema:
                $ref: '#/components/schemas/Errors'
          description: Bad request
        "404":
          content:
            application/json:
              examples:
                not-found:
                  description: Not found
                  summary: Not found
                  value:
                    errors:
                    - title: Resource not found
                      detail: Resource with id 'my-resource-id' not found
              schema:
                $ref: '#/components/schemas/Errors'
          description: Resource not found
      summary: List all subscriptions for MQTT client
      tags:
      - MQTT Clients
components:
  schemas:
    Backup:
      type: object
      properties:
        bytes:
          type: integer
          format: int64
          description: The size of this backup file in bytes.
          nullable: true
        createdAt:
          type: string
          format: date-time
          description: Time the backup was created at
        failReason:
          type: string
          description: "The reason why this backup failed, only present for failed\
            \ backups."
          nullable: true
        id:
          type: string
          description: The id of this backup
        state:
          type: string
          description: The current state of the backup
          enum:
          - COMPLETED
          - RESTORE_COMPLETED
          - IN_PROGRESS
          - RESTORE_IN_PROGRESS
          - FAILED
          - RESTORE_FAILED
    BackupItem:
      type: object
      properties:
        backup:
          $ref: '#/components/schemas/Backup'
    BackupList:
      type: object
      properties:
        items:
          type: array
          description: List of result items that are returned by this endpoint
          items:
            $ref: '#/components/schemas/Backup'
    BehaviorPolicy:
      type: object
      description: A policy which is used to validate and execute certain actions
        based on the validation result.
      properties:
        behavior:
          $ref: '#/components/schemas/BehaviorPolicyBehavior'
        createdAt:
          type: string
          format: date-time
          description: The formatted UTC timestamp indicating when the policy was
            created.
          readOnly: true
        deserialization:
          $ref: '#/components/schemas/BehaviorPolicyDeserialization'
        id:
          type: string
          description: The unique identifier of the policy.
        lastUpdatedAt:
          type: string
          format: date-time
          description: The formatted UTC timestamp indicating when the policy was
            updated the last time.
          readOnly: true
        matching:
          $ref: '#/components/schemas/BehaviorPolicyMatching'
        onTransitions:
          type: array
          items:
            $ref: '#/components/schemas/BehaviorPolicyOnTransition'
      required:
      - behavior
      - id
      - matching
    BehaviorPolicyBehavior:
      type: object
      description: "The behavior referenced by the policy, that is validated by the\
        \ policy."
      properties:
        arguments:
          type: object
          description: The  arguments that the referenced validator type requires.
        id:
          type: string
          description: The unique identifier of a pre-defined behavior.
      required:
      - id
    BehaviorPolicyDeserialization:
      type: object
      description: The deserializers used by the policy for particular message and/or
        payload types.
      properties:
        publish:
          $ref: '#/components/schemas/BehaviorPolicyDeserializer'
        will:
          $ref: '#/components/schemas/BehaviorPolicyDeserializer'
    BehaviorPolicyDeserializer:
      type: object
      description: The deserializer applied to a particular message or payload type.
      properties:
        schema:
          $ref: '#/components/schemas/SchemaReference'
      required:
      - schema
    BehaviorPolicyList:
      type: object
      description: A listing of behavior policies.
      properties:
        _links:
          $ref: '#/components/schemas/PaginationCursor'
        items:
          type: array
          description: List of result items that are returned by this endpoint
          items:
            $ref: '#/components/schemas/BehaviorPolicy'
    BehaviorPolicyMatching:
      type: object
      description: The matching rules the policy applies.
      properties:
        clientIdRegex:
          type: string
          description: The regex pattern to match the client id against.
      required:
      - clientIdRegex
    BehaviorPolicyOnEvent:
      type: object
      description: "One or more operations that are triggered on the event. When this\
        \ field is empty, the transition does not trigger any operations."
      properties:
        pipeline:
          type: array
          items:
            $ref: '#/components/schemas/PolicyOperation'
      required:
      - pipeline
    BehaviorPolicyOnTransition:
      type: object
      description: The actions that are executed for the specified transition.
      properties:
        Connection.OnDisconnect:
          $ref: '#/components/schemas/BehaviorPolicyOnEvent'
        Event.OnAny:
          $ref: '#/components/schemas/BehaviorPolicyOnEvent'
        Mqtt.OnInboundConnect:
          $ref: '#/components/schemas/BehaviorPolicyOnEvent'
        Mqtt.OnInboundDisconnect:
          $ref: '#/components/schemas/BehaviorPolicyOnEvent'
        Mqtt.OnInboundPublish:
          $ref: '#/components/schemas/BehaviorPolicyOnEvent'
        Mqtt.OnInboundSubscribe:
          $ref: '#/components/schemas/BehaviorPolicyOnEvent'
        fromState:
          type: string
          description: The exact state from which the transition happened. Alternatively
            a state filter can be used.
        toState:
          type: string
          description: The exact state to which the transition happened. Alternatively
            a state filter can be used.
      required:
      - fromState
      - toState
    CertificateInformation:
      type: object
      description: The client certificate sent by the client
      nullable: true
      properties:
        commonName:
          type: string
          description: Common name
          nullable: true
        country:
          type: string
          description: Country
          nullable: true
        organization:
          type: string
          description: Organization
          nullable: true
        organizationalUnit:
          type: string
          description: Organizational unit
          nullable: true
        serial:
          type: string
          description: The certificates serial
          nullable: true
        state:
          type: string
          description: State
          nullable: true
        validFrom:
          type: string
          format: date-time
          description: Valid from date
        validUntil:
          type: string
          format: date-time
          description: Valid until date
        version:
          type: string
          description: Certificate version
          nullable: true
    Client:
      type: object
      description: List of result items that are returned by this endpoint
      properties:
        id:
          type: string
    ClientDetails:
      type: object
      properties:
        connected:
          type: boolean
          description: If this client is connected
        connectedAt:
          type: string
          format: date-time
          description: Time the client connection was established
          nullable: true
        connection:
          $ref: '#/components/schemas/ConnectionDetails'
        id:
          type: string
          description: The MQTT client identifier
        messageQueueSize:
          type: integer
          format: int64
          description: The current message queue size for this client
        restrictions:
          $ref: '#/components/schemas/ClientRestrictions'
        sessionExpiryInterval:
          type: integer
          format: int64
          description: The session expiry interval
          nullable: true
        willPresent:
          type: boolean
          description: If a will is present for this client
    ClientItem:
      type: object
      properties:
        client:
          $ref: '#/components/schemas/ClientDetails'
    ClientList:
      type: object
      properties:
        _links:
          $ref: '#/components/schemas/PaginationCursor'
        items:
          type: array
          description: List of result items that are returned by this endpoint
          items:
            $ref: '#/components/schemas/Client'
    ClientRestrictions:
      type: object
      description: The restrictions that are in effect for this client
      nullable: true
      properties:
        maxMessageSize:
          type: integer
          format: int64
          description: maximum MQTT message size
          nullable: true
        maxQueueSize:
          type: integer
          format: int64
          description: maximum queue size
          nullable: true
        queuedMessageStrategy:
          type: string
          description: The queue strategy if the queue is full
          nullable: true
    ClientSubscription:
      type: object
      description: List of result items that are returned by this endpoint
      properties:
        noLocal:
          type: boolean
          description: The No Local flag
        qos:
          type: string
          description: The Quality of Service level
          enum:
          - AT_MOST_ONCE
          - AT_LEAST_ONCE
          - EXACTLY_ONCE
        retainAsPublished:
          type: boolean
          description: The Retain As Published flag
        retainHandling:
          type: string
          description: Retain handling option
          enum:
          - SEND
          - SEND_IF_NEW_SUBSCRIPTION
          - DO_NOT_SEND
        subscriptionIdentifier:
          type: integer
          format: int32
          description: The subscription identifier
          nullable: true
        topicFilter:
          type: string
          description: The MQTT topic filter
    ClientSubscriptionList:
      type: object
      properties:
        _links:
          $ref: '#/components/schemas/PaginationCursor'
        items:
          type: array
          description: List of result items that are returned by this endpoint
          items:
            $ref: '#/components/schemas/ClientSubscription'
    Connection:
      type: object
      description: Information about the client's connection state
      properties:
        connected:
          type: boolean
          description: If this client is currently connected
    ConnectionDetails:
      type: object
      description: Information about the clients connection
      nullable: true
      properties:
        cleanStart:
          type: boolean
          description: Clean start flag
        connectedListenerId:
          type: string
          description: Id of the HiveMQ listener the client is connected to
        connectedNodeId:
          type: string
          description: Id of the HiveMQ node the client is connected to
        keepAlive:
          type: integer
          format: int32
          description: Connection Keep Alive in seconds
          nullable: true
        mqttVersion:
          type: string
          description: MQTT version of the client
        password:
          type: string
          format: byte
          description: Password
          nullable: true
        proxyInformation:
          $ref: '#/components/schemas/ProxyInformation'
        sourceIp:
          type: string
          description: The client's IP
          nullable: true
        tlsInformation:
          $ref: '#/components/schemas/TlsInformation'
        username:
          type: string
          description: Username
          nullable: true
    ConnectionItem:
      type: object
      properties:
        connection:
          $ref: '#/components/schemas/Connection'
    DataPolicy:
      type: object
      description: A data policy which is used to validate and execute certain actions
        based on the validation result.
      properties:
        createdAt:
          type: string
          format: date-time
          description: The formatted UTC timestamp indicating when the policy was
            created.
          readOnly: true
        id:
          type: string
          description: The unique identifier of the policy.
        lastUpdatedAt:
          type: string
          format: date-time
          description: The formatted UTC timestamp indicating when the policy was
            updated the last time.
          readOnly: true
        matching:
          $ref: '#/components/schemas/DataPolicyMatching'
        onFailure:
          $ref: '#/components/schemas/DataPolicyAction'
        onSuccess:
          $ref: '#/components/schemas/DataPolicyAction'
        validation:
          $ref: '#/components/schemas/DataPolicyValidation'
      required:
      - id
      - matching
    DataPolicyAction:
      type: object
      description: "One or more operations the outcome of the validation triggers.\
        \  When this field is empty, the outcome of the policy validation does not\
        \ trigger any operations."
      properties:
        pipeline:
          type: array
          description: "The pipeline to execute, when this action is triggered. The\
            \ operations in the pipeline are executed in-order."
          items:
            $ref: '#/components/schemas/PolicyOperation'
    DataPolicyList:
      type: object
      description: A listing of data policies.
      properties:
        _links:
          $ref: '#/components/schemas/PaginationCursor'
        items:
          type: array
          description: List of result items that are returned by this endpoint
          items:
            $ref: '#/components/schemas/DataPolicy'
    DataPolicyMatching:
      type: object
      description: The matching rules the policy applies.
      properties:
        topicFilter:
          type: string
          description: The topic filter for which the policy is matched.
      required:
      - topicFilter
    DataPolicyValidation:
      type: object
      description: "The section of the policy that defines how incoming MQTT messages\
        \ are validated. If this section is empty, the result of the policy validation\
        \ is always successful."
      properties:
        validators:
          type: array
          description: The validators of the policy.
          items:
            $ref: '#/components/schemas/DataPolicyValidator'
    DataPolicyValidator:
      type: object
      description: A policy validator which executes the defined validation.
      properties:
        arguments:
          type: object
          description: The required arguments of the referenced validator type.
        type:
          type: string
          description: The type of the validator.
      required:
      - arguments
      - type
    DiagnosticArchive:
      type: object
      properties:
        bytes:
          type: integer
          format: int64
          description: The size of this diagnostic archive file in bytes.
          nullable: true
        createdAt:
          type: string
          format: date-time
          description: Time the diagnostic archive was created at.
        failReason:
          type: string
          description: "The reason why this diagnostic archive failed, only present\
            \ for failed diagnostic archives."
          nullable: true
        id:
          type: string
          description: The id of this diagnostic archive.
        state:
          type: string
          description: The current state of the diagnostic archive.
          enum:
          - COMPLETED
          - IN_PROGRESS
          - FAILED
    DiagnosticArchiveItem:
      type: object
      properties:
        diagnosticArchive:
          $ref: '#/components/schemas/DiagnosticArchive'
    Error:
      type: object
      properties:
        detail:
          type: string
          description: Detailed contextual description of this error
        title:
          type: string
          description: The type of this error
    Errors:
      type: object
      properties:
        errors:
          type: array
          items:
            $ref: '#/components/schemas/Error'
    FsmStateInformationItem:
      type: object
      description: List of result items that are returned by this endpoint
      properties:
        arguments:
          $ref: '#/components/schemas/JsonNode'
        behaviorId:
          type: string
          description: The unique identifier of the policy.
        firstSetAt:
          type: string
          description: The timestamp when this state was set the first time.
        policyId:
          type: string
          description: The unique identifier of the policy.
        stateName:
          type: string
          description: The name of the fsm state.
        stateType:
          type: string
          description: The type of the fsm state.
        variables:
          type: object
          additionalProperties:
            type: string
            description: The variables for this fsm.
          description: The variables for this fsm.
    FsmStatesInformationListItem:
      type: object
      properties:
        items:
          type: array
          description: List of result items that are returned by this endpoint
          items:
            $ref: '#/components/schemas/FsmStateInformationItem'
    JsonNode:
      type: object
      description: The arguments of the fsm derived from the behavior policy.
    PaginationCursor:
      type: object
      description: Links for pagination
      nullable: true
      properties:
        next:
          type: string
    PolicyOperation:
      type: object
      description: The pipeline to execute when this action is triggered. The operations
        in the pipeline are executed in order.
      properties:
        arguments:
          type: object
          description: The required arguments of the referenced function.
        functionId:
          type: string
          description: The unique id of the referenced function to execute in this
            operation.
        id:
          type: string
          description: The unique id of the operation in the pipeline.
      required:
      - arguments
      - functionId
      - id
    ProxyInformation:
      type: object
      description: Proxy Protocol information
      nullable: true
      properties:
        destinationIp:
          type: string
          description: The client's destination IP as seen by the proxy
        destinationPort:
          type: integer
          format: int32
          description: The client's destination port as seen by the proxy
        sourceIp:
          type: string
          description: The client's IP as seen by the proxy
        sourcePort:
          type: integer
          format: int32
          description: The client's Port as seen by the proxy
        tlvs:
          type: array
          description: Additional TLV fields contained in the proxy protocol information
          items:
            $ref: '#/components/schemas/TLV'
          nullable: true
    Schema:
      type: object
      properties:
        arguments:
          type: object
          additionalProperties:
            type: string
            description: The schema type dependent arguments.
          description: The schema type dependent arguments.
        createdAt:
          type: string
          description: The formatted UTC timestamp when the schema was created.
          readOnly: true
        id:
          type: string
          description: The unique identifier of the schema.
        schemaDefinition:
          type: string
          description: The base64 encoded schema definition.
        type:
          type: string
          description: The type of the schema.
        version:
          type: integer
          format: int32
          description: The version of the schema.
          readOnly: true
      required:
      - id
      - schemaDefinition
      - type
    SchemaList:
      type: object
      description: A listing of schemas.
      properties:
        _links:
          $ref: '#/components/schemas/PaginationCursor'
        items:
          type: array
          description: List of result items that are returned by this endpoint
          items:
            $ref: '#/components/schemas/Schema'
    SchemaReference:
      type: object
      description: A schema reference is a unique identifier for a schema.
      properties:
        schemaId:
          type: string
          description: The identifier of the schema.
        version:
          type: string
          description: The version of the schema. The value "latest" may be used to
            always refer to the latest schema.
      required:
      - schemaId
      - version
    Script:
      type: object
      properties:
        createdAt:
          type: string
          description: The formatted UTC timestamp when the script was created.
          readOnly: true
        description:
          type: string
          description: A string of free-form text describing the function.
        functionType:
          type: string
          description: The type of the function.
          enum:
          - TRANSFORMATION
        id:
          type: string
          description: The unique identifier of the script.
        source:
          type: string
          description: The base64 encoded function source code.
        version:
          type: integer
          format: int32
          description: The version of the script.
          readOnly: true
      required:
      - functionType
      - id
      - source
    ScriptList:
      type: object
      description: A listing of scripts.
      properties:
        _links:
          $ref: '#/components/schemas/PaginationCursor'
        items:
          type: array
          description: List of result items that are returned by this endpoint
          items:
            $ref: '#/components/schemas/Script'
    TLV:
      type: object
      description: Additional TLV fields contained in the proxy protocol information
      nullable: true
      properties:
        key:
          type: string
          description: TLV Key
        value:
          type: string
          description: TLV value
    TlsInformation:
      type: object
      description: TLS information
      nullable: true
      properties:
        certificateInformation:
          $ref: '#/components/schemas/CertificateInformation'
        cipherSuite:
          type: string
          description: The used cipher suite
        tlsVersion:
          type: string
          description: The used TLS version
    TraceFilter:
      type: object
      description: Topic filters to trace
      properties:
        regex:
          type: string
          description: Regex pattern this filter will trace for.
    TraceRecording:
      type: object
      description: "Trace recording item describing the desired (and optionally, when\
        \ receiving from the server: current) state of a trace recording"
      properties:
        clientIdFilters:
          type: array
          description: Client ID filters to trace
          items:
            $ref: '#/components/schemas/TraceFilter'
          uniqueItems: true
        endAt:
          type: string
          format: date-time
          description: Time the trace recording is scheduled to stop at. Must be at
            a later time from the start time
        events:
          type: array
          description: MQTT events to trace
          items:
            type: string
            description: MQTT events to trace
            enum:
            - MQTT_MESSAGE_CONNECT
            - MQTT_MESSAGE_CONNACK
            - MQTT_MESSAGE_SUBSCRIBE
            - MQTT_MESSAGE_SUBACK
            - MQTT_MESSAGE_PUBLISH
            - MQTT_MESSAGE_PUBACK
            - MQTT_MESSAGE_PUBREC
            - MQTT_MESSAGE_PUBREL
            - MQTT_MESSAGE_PUBCOMP
            - MQTT_MESSAGE_UNSUBSCRIBE
            - MQTT_MESSAGE_UNSUBACK
            - MQTT_MESSAGE_PINGREQ
            - MQTT_MESSAGE_PINGRESP
            - MQTT_MESSAGE_DISCONNECT
            - MQTT_MESSAGE_AUTH
          uniqueItems: true
        name:
          type: string
          description: "Name of the trace recording. Must be unique, contain at least\
            \ three characters and only combinations of numbers, letters, dashes and\
            \ underscores are allowed"
        startAt:
          type: string
          format: date-time
          description: Time the trace recording is scheduled to start at
        state:
          type: string
          description: "Current state of the recording. Only sent by the API, ignored\
            \ if specified on POST"
          enum:
          - SCHEDULED
          - IN_PROGRESS
          - ABORTED
          - STOPPED
        topicFilters:
          type: array
          description: Topic filters to trace
          items:
            $ref: '#/components/schemas/TraceFilter'
          uniqueItems: true
    TraceRecordingItem:
      type: object
      properties:
        traceRecording:
          $ref: '#/components/schemas/TraceRecording'
      required:
      - traceRecording
    TraceRecordingList:
      type: object
      properties:
        items:
          type: array
          description: List of result items that are returned by this endpoint
          items:
            $ref: '#/components/schemas/TraceRecording'
